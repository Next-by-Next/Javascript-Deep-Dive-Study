## 📕 오늘 공부한 내용 . ✒

**오늘 읽은 범위** : 27장

### 27. 배열

배열은 여러개의 값을 순차적으로 나열한 자료구조이다.

배열이 가지고 있는 값을 **요소** 라고 부르며 값으로 인정되는 모든 것은 배열의 요소가 될수 있다.<br>
또한, 각 요소들은 자신의 위치를 나타내는 0 이상의 정수인 **인덱스**를 갖는다.

> 배열은 값의 순서와, length 프로퍼티를 가진 특수한 객체 타입이다.

배열의 종류로는 두가지가 있다.

1. 밀집 배열
2. 희소 배열

밀집 배열이란 동일한 크기의 메모리 공간이 빈틈없이 연속적으로 나열된 자료구조로, 각 요소들이 하나의 데이터 타입으로 통일되어 있으며 서로 연속적으로 인접해 있는 배열을 말한다.

희소 배열이란 배열의 요소를 위한 각각의 메모리 공간이 동일한 크기가 아니며, 연속적으로 이어져 있지 않은 배열을 말한다.

이처럼 자료구조에서의 배열은 밀집 배열을 나타내며 자바스크립트의 배열은 희소 배열이 가능하기에 자바스크립트의 배열은 일반적인 배열의 동작을 흉내 낸 특수한 객체라고 보는것이다.

```javascript
{
    '0': {value: 1, writable: true, enumerable: true, configurable: true},
    length: {value: 1, writable:true, enumerable: false, configurable: false }
}
```

위 예제를 통해 확인할 수 있듯이, 자바스크립트의 배열은 인덱스를 나타내는 문자열을 프로퍼티 키로 가지며, length 프로퍼티를 갖는 특수한 객체이다.<br>

자료구조의 일반적인 배열과 자바스크립트의 배열은 2가지 차이가 있다.

1. **일반적인 배열은 인덱스로 요소에 빠르게 접근할 수 있다. 하지만 특정 요소를 검색하거나 요소를 삽입 또는 삭제하는 경우에는 효율적이지 않다.**
2. **자바스크립트 배열은 해시 테이블로 구현된 객체이므로 인덱스로 요소에 접근하는 경우 일반적인 배열보다 성능적인 면에서 느릴 수밖에 없는 구조적인 단점이 있다. 하지만, 특정 요소를 검색하거나 요소를 삽입 또는 삭제하는 경우에는 일반적인 배열보다 빠른 성능을 기대할 수 있다.**

즉, 자바스크립트는 **특정 요소를 탐색하거나 배열 요소를 삽입 또는 삭제하는 경우의 성능을 선택한 것이다.**

---

## 배열 생성

배열을 생성하는 방법은 총 4가지 이다.<br>
한가지씩 알아보자.

### 배열 리터럴

가장 일반적이고 간편한 배열 생성 방식이다.

```javascript
const arr = [1, 2, 3];
console.log(arr); // [1, 2, 3]
console.log(arr.length); // 3
```

배열 리터럴에 요소를 하나도 추가하지 않으면 배열의 길이 length의 값이 0인 빈배열이 된다.

### Array 생성자 함수

```javascript
const arr = new Array(10);
console.log(arr); // [empty x 10]
console.log(arr.length); // 10
```

위 예제처럼 인수로 숫자인 값을 한개만 전달할 경우 인수로 전달된 값을 length로 갖는 빈 배열이 생성된다.

```javascript
const arr = new Array(1, 2, 3);
console.log(arr); // [1, 2, 3]
console.log(arr.length); // 3
```

위 예제처럼 인수로 한개 이상의 인수를 전달할 경우 해당 인수를 요소 값으로 갖는 배열이 생성된다.

> Array 생성자 함수는 `new` 연산자와 함께 호출하지 않아도 내부에서 `new.target`을 확인하는 안전장치가 있기때문에 문제가 없다.

### Array.of

`Array.of` 는 ES6에서 도입된 메서드이다.<br>
생성자 함수 `Array`와 다르게 전달된 인수가 1개이고 숫자이더라도 인수를 요소로 갖는 배열을 생성한다.

### Array.from

`Array.from`또한 ES6에서 도입된 메서드이다.<br>
이는 유사 배열 객체, 이터러블 객체를 인수로 전달받아 배열로 변환하여 반환한다.

```javascript
Array.from({ length: 2, 0: 'a', 1: 'b' }); // ['a', 'b']

Array, from('Hello'); // ['H', 'e', 'l', 'l', 'o']
```

또한 두번째 인수로 전달한 콜백 함수를 통해 각 요소에 추가적인 map을 진행할 수 있다.

> 유사 배열 객체는 마치 배열처럼 인덱스로 프로퍼티 값에 접근할 수 있고 length 프로퍼티를 갖는 객체를 말한다.<br>
> 이터러블 객체는 `Symbol.iterator` 메서드를 구현하여 `for...of`문으로 순회할 수 있으며, 스프레드 문법과 배열 디스트럭처링 할당의 대상으로 사용할 수 있는 객체를 말한다.

---

## 배열 요소의 참조

배열 요소에 접근하는 방법은 `[]` 표기법을 사용하는것이다.

```javascript
const arr = [1, 2];
console.log(arr[0]); // 1
console.log(arr[1]); // 2
```

당연하게도 존재하지 않는 요소에 접근하면 `undefined`가 반환된다.

추가로 자바스크립트에서 배열은 객체이니 객체 프로퍼티 접근법으로 요소에 접근이 가능할까 생각이 들었다.<br>

```javascript
const arr = [1,2];
console.log(arr.'0');
```

그러나 에러가 반환되며 접근되지 않았다.

---

## 배열 고차 함수

고차함수는 함수를 인수로 전달받거나 함수를 반환하는 함수를 말한다.<br>
고차함수는 외부 상태의 변경이나 가변 데이터를 피하고 불변성을 지향하는 함수형 프로그래밍에 기반을 두고 있다.

자바스크립트는 고차함수를 다수 지원하며, 배열은 매우 유용한 고차 함수를 제공한다.

### Array.prototype.sort

`sort` 메서드는 배열의 요소를 기본적으로 오름차순으로 정렬한다.<br>

```javascript
const arr = [1, 4, 5, 10];

console.log(arr.sort()); // [1, 10, 4, 5]
```

하지만 예상했던 오름차순의 정렬이 되지 않는다.<br>
그 이유는 기본 정렬 순서를 유니코드 코드 포인트의 순서를 따르기 때문이다.

즉, 배열의 요소가 숫자 타입이라 할지라고 배열의 요소를 일시적으로 문자열로 변환한 후 유니코드 코드 포인트의 순서를 기준으로 정렬하게 된다.

따라서 숫자 요소를 정렬할 때는 sort 메서드에 **정렬 순서를 정의하는 비교 함수를 인수로 전달**해야 한다.<br>
비교함수는 양수나 음수 또는 0을 반환해야 한다.

비교함수의 반환값이 0보다 작으면 첫번째 인수를 운선하여 정렬하고, 0이면 정렬하지 않으며, 0보다 크면 두번째 인수를 우선하여 정렬한다.

### Array.prototype.forEach

함수형 프로그래밍은 로직 내에 존재하는 조건문과 반복문을 제거하여 복잡성을 해결하고 변수의 사용을 억제하여 상태 변경을 피하려는 프로그래밍 패러다임이다.

`Array.prototype.forEach`는 `for`문을 대체하기 위해 사용된다.<br>
forEach 메서드는 내부에서 반복문을 통해 자신을 호출한 배열을 순회하면서 수행해야 할 처리를 콜백 함수로 전달받아 반복 호출한다.

forEach 메서드를 사용하려는 배열이 희소 배열일 경우 존재하지 않는 요소는 순회 대상에서 제외된다.

> for 문에 비해 성능이 좋지는 않지만 가독성이 좋다. 따라서 높은 성능이 필요한 경우 for문 사용을 고려해보자.

### Array.prototype.map

`map` 메서드는 자신을 호출한 배열의 모든 요소를 순회하면서 인수로 전달받은 콜백 함수를 반복 호출한다.<br>
그 후 콜백 함수의 반환값들로 구성된 **새로운 배열을 반환**한다.

### Array.prototype.filter

`filter`메서드는 자신을 호출한 배열의 모든 요소를 순회하면서 인수로 전달받은 콜백 함수를 반복 호출한다.<br>
콜백 함수의 반환값이 `true`인 요소로만 구성된 새로운 배열을 반환한다.

주로, 자신을 호출한 배열에서 특정 요소를 제거하기 위해 사용한다.

### Array.prototype.reduce

`reduce` 메서드는 자신을 호출한 배열을 모든 요소를 순회하며 인수로 전달 받은 콜백 함수를 반복 호출한다.<br>
그리고 콜백 함수의 반환값을 다음 순회시에 콜백 함수의 첫번째 인수로 전달하면서 콜백 함수를 호출하여 하나의 결과값을 만들어 반환한다.

reduce 메서드를 호출할 때는 초기값을 반드시 사용하자.

### Array.prototype.some, Array.prototype.every

`some, every` 메서드는 자신을 호출한 배열의 요소를 순회하며 전달된 콜백 함수를 호출한다.<br>
이때 콜백 함수의 반환값이 단 한번이라도 참이면 `true`, 거짓이면 `false`를 반환한다.

이 두 메서드의 차이점은 빈 배열을 이용해 호출 했을 경우이다.

some 메서드는 `false`를 every 메서드는 `true`를 반환한다.

### Array.prototype.find

`find`메서드는 자신을 호출한 배열의 요소를 순회하며 인수로 전달된 콜백 함수를 호출하며 반환값이 `true`인 첫번째 요소를 반환한다.<br>
만약, 반환값이 `true`인 요소가 존재하지 않는다면 `undefined`를 반환한다.

### Array.prototype.findIndex

`findIndex` 메서드는 배열의 요소를 순회하며 인수로 전달된 콜백 함수를 호출해 반환값이 `true`인 첫번째 요소의 인덱스를 반환한다.<br>
만약, 반환값이 `true`인 요소가 존재하지 않는다면 `-1`를 반환한다.
