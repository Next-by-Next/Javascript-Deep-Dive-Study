## 📕 오늘 공부한 내용 . ✒

**오늘 읽은 범위** : 16장

## 16. 프로퍼티 어트리뷰트

### 내부 슬롯과 내부 메서드

내부 슬롯과 내부 메서드는 자바스크립트 엔진의 내부 로직이므로 원칙적으로 자바스크립트는 내부 슬롯과 내부 메서드에 직접적으로 접근하거나 호출할 수 있는 방법을 제공하지 않는다.<br>
하지만 간접적으로 일부에 한해 접근할 수 있는 수단을 제공하기는 한다.

### 프로퍼티 어트리뷰트와 프로퍼티 디스크립터 객체

자바스크립트 엔진은 프로퍼티를 생성할 때 프로퍼티의 상태를 나타내는 프로퍼티 어트리뷰트를 기본 값으로 자동 정의하는데,<br>
직접적인 접근이 아닌 `Object.getOwnPropertyDescriptor` 메서드를 사용한 간접적인 접근만 허용한다.

해당 메소드는 **프로퍼티 디스크립터 객체** 를 반환한다.

> ES8에서 도입된 `Object.getOwnPropertyDescriptors`는 모든 프로퍼티의 어트리뷰트 정보를 제공하는 프로퍼티 디스크립터 객체들을 반환한다.

### 데이터 프로퍼티와 접근자 프로퍼티

프로퍼티는 데이터 프로퍼티와 접근자 프로퍼티로 구분할 수 있다.

- 데이터 프로퍼티 : 키와 값으로 구성된 일반적인 프로퍼티.

- 접근자 프로퍼티 : 다른 데이터 프로퍼티의 값을 읽거나 저장할 때 호출되는 접근자 함수로 구성된 프로퍼티.

데이터 프로퍼티는 [[Value]], [[Writable]], [[Enumerable]], [[Configurable]] 어트리뷰트를 가지며, 차례로 프로퍼티의 값, 값의 변경 여부, 열거 가능 여부, 어트리뷰트 재정의 가능 여부를 나타낸다.<br>
`Object.getOwnPropertyDescriptor` 메소드를 사용해 반환되는 객체의 `value, writable, enumerable, configurable`들과 매칭된다.

접근자 프로퍼티는 [[Get]], [[Set]], [[Enumerable]], [[Configurable]] 어트리뷰트를 가지며, 데이터 프로퍼티의 값을 읽을때 호출되는 접근자 함수, 값을 설정할 때 호출되는 함수, 나머지는 데이터 프로퍼티와 같다.

### 프로퍼티 정의

프로퍼티 정의란 새로운 프로퍼티를 추가하면서 프로퍼티 어트리뷰트를 명시적으로 정의하거나 프로퍼티 어트리뷰트를 재정의 하는 것을 말한다.<br>
`Object.defineProperty` 메서드를 사용하면 프로퍼티의 어트리뷰트를 정의할 수 있다.

```javascript
const person = {};

Object.defineProperty(person, 'firstName', {
  value: 'Sejong',
  writable: true,
  enumerable: true,
  configurable: true,
});

Object.defineProperty(person, 'fullName', {
  get() {
    return `${this.firstName}`;
  },

  set(name) {
    this.name = name;
  },

  enumerable: true,
  configurable: true,
});
```

디스크립터 객체의 프로퍼티를 누락시키면 `undefined, false` 가 기본값이 된다.

> `Object.defineProperties` 메소드를 사용하면 여러 개의 프로퍼티를 한 번에 정의할 수 있다.

### 객체 변경 방지

`const`로 선언된 객체는 재할당은 불가능 하지만 내부 프로퍼티의 변경은 가능하다.<br>
이를 방지하기 위해 자바스크립트는 강도가 다른 3가지 메소드를 제공한다.

1. `Object.preventExtensions` : 객체의 확장을 금지한다. 즉, 프로퍼티를 추가할 수 없다.
2. `Object.seal` : 객체를 밀봉한다. 프로퍼티 추가 및 삭제와 프로퍼티 어트리뷰트 재정의가 금지되며, 읽기와 쓰기만 가능하다.
3. `Object.freeze` : 객체를 동결한다. 읽기 외의 모든것이 금지 된다.

하지만 한가지 문제가 있다.<br>
`Object.freeze`를 적용한 객체는 동결되어 읽기 전용이 되지만, 만약 동결된 객체가 프로퍼티로 다른 객체를 가질경우, 이 프로퍼티 객체는 동결되지 않는다.<br>
한마디로 중첩 객체까지는 동결할 수 없다는 말이다.

따라서, 이 경우 객체의 모든 프로퍼티에 대해 Object.freeze 메소드를 호출해야한다.

#### +간결한 세 줄 요약
