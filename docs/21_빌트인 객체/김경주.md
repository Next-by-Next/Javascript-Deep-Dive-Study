## 21장 빌트인 객체

<br>

### 21.1 자바스크립틑 객체의 분류

---

자바스크립트 객체는 다음과 같이 크게 3개의 객체로 분류할 수 있다.

- **표준 빌트인 객체**
- **호스트 객체**
- **사용자 정의객체**

<br>

### 21.2 표준 빌트인 객체

---

자바스크립트 객체는 `Object`, `String`, `Number`, `Boolean`, `Symbol`, `Date`, `Math` 등 40여개의 표준 빌트인 객체를 제공한다.
`Math`, `Reflect`, `JSON`을 제외한 표준 빌트인 객체는 모두 인스턴스를 생성할 수 있는 생성자 함수 객체다.

생성자 함수인 표준 빌트인 객체가 생성한 인스턴스의 프로토타입은 표준 빌트인 객체의 `prototype` 프로퍼티에 바인딩된 객체다.

```js
// String 생성자 함수에 의한 String 객체 생성
const strObj = new String("Lee"); // String {"Lee"}

// String 생성자 함수를 통해 생성한 strObj 객체의 프로토타입은 String.prototype
consoel.log(Object.getPrototypeOf(strObj) === String.prototype); // true
```

표준 빌트인 객체의 prototype 프로퍼티에 바인딩 된 객체(ex. String.prototype)는 다양한 기능의 빌트인 프로토타입 메서드를 제공한다.

<br>

### 21.3 원시값과 래퍼 객체

---

문자열이나 숫자, 불리언 등의 원시값이 있는데도 문자열, 숫자, 불리언 객체를 생성하는 String, Number, Boolean 등의 표준 빌트인 생성자 함수가 존재하는 이유는 뭘까?

```js
const str = "hello";

// 원시 타입인 문자열이 프로퍼티와 메서드를 갖고 있는 객체처럼 동작
console.log(str.length); // 5
console.log(str.toUpperCase()); // HELLO
```

위 예시에서 원시값은 객체가 아니므로 프로퍼티나 메서드를 가질 수 없는데도 원시값인 문자열이 마치 객체처럼 동작한다.
이는 원시값인 문자열, 숫자, 불리언 값의 경우 이들 원시값에 대해 마치 객체처럼 마침표 표기법으로 접근하면 자바스크립트 엔진이 일시적으로 원시값을 연관된 객체로 변환해 주기 때문이다.<br>
이처럼 **문자열, 숫자, 불리언 값에 대해 객체처럼 접근하면 생성되는 임시 객체를 래퍼 객체**라 한다.

예를 들어 문자열에 대해 마침표 표기법으로 접근하면 그 순건 래퍼 객체인 `String` 생성자 함수의 인스턴스가 생성되고 문자열은 래퍼 객체의 `[[StringData]]` 내부 슬롯에 할당

```js
const str = "hi";

// 원시 타입인 문자열이 래퍼 객체인 String 인스턴스로 변환
console.log(str.length); // 2
console.log(str.toUpperCase()); // HI

// 래퍼 객체로 프로퍼티에 접근하거나 메서드를 호출한 후, 다시 원시값으로 되돌림
console.log(typeof str); // string
```

이때 문자열 래퍼 객체인 `String`생성자 함수의 인스턴스는 `String.prototype`의 메서드를 상속받아 사용할 수 있다.

래퍼 객체의 처리가 종료되면 식별자가 원시값을 갖도록 되돌리고 래퍼 객체는 가비지 컬렉션의 대상이 된다.

```js
// 식별자 str은 문자열을 값으로 갖고 있음
const str = "hello";

// 식별자 str은 암묵적으로 생성된 래퍼 객체를 가리킴
// 식별자 str의 값은 래퍼 객체의 [[StringData]] 내부 슬롯에 할당
// 래퍼 객체에 name 프로퍼티가 동적 추가
str.name = "Lee";

// 암묵적으로 생성된 생성된 래퍼 객체는 가비지 컬렉션의 대상이 됨

// 식별자 str은 새롭게 암묵적으로 생성된 래퍼 객체를 가리킴
// 새롭게 생성된 래퍼 객체에는 name 프로퍼티가 존재하지 않음
console.log(str.name); // undefined

// 식별자 str은 래퍼 객체의 내부 슬롯에 할당된 원시값을 가짐
// 이때 암묵적으로 생성된 생성된 래퍼 객체는 가비지 컬렉션의 대상이 됨
console.log(typeof str, str); // string hello
```
