# 7. 연산자

<p align='center'>
📕 7장 7.1 ~ 7.13
</p><br />

## [목차]

[7.0. 연산자란?](#7-연산자)<br />
[7.1 산술 연산자](#71-산술-연산자)<br />
[7.1.1 이행 산술 연산자](#1-이행-산술-연산자)<br />
[7.1.2 단항 산술 연산자](#2-단항-산술-연산자)<br />
[7.2 할당 연산자](#72-할당-연산자)<br />
[7.3 비교 연산자](#73-비교-연산자)<br />
[7.3.1 동등/일치 비교 연산자](#1-동등일치-비교-연산자)<br />
[7.3.2 대소 관계 비교 연산자](#2-대소-관계-비교-연산자)<br />
[7.4 삼항 조건 연산자](#74-삼항-조건-연산자)<br />
[7.5 논리 연산자](#75-논리-연산자)<br /><br />
[🚀 연산자 정리 (1)](#🚀-71--75-연산자-정리)<br /><br />
[7.6 쉽표 연산자](#76-쉼표-연산자)<br />
[7.7 그룹 연산자](#77-그룹-연산자)<br />
[7.8 typeof 연산자](#78-typeof-연산자)<br />
[7.9 지수 연산자](#79-지수-연산자)<br /><br />
[7.10 그 외 연산자](#710-그-외-연산자)<br />
[7.11 부수 효과](#711-연산자의-부수-효과)<br />
[7.12 연산자 우선순위](#712-연산자-우선순위)<br />
[7.13 연산자 결합 순서](#713-연산자-결합-순서)<br /><br />
[🚀 연산자 정리 (2)](#🚀-76--79-연산자-정리)<br />

<br /><br />

## 연산자란?

연산자는 하나 이상의 표현식을 대상으로 산술, 할당, 비교 등을 수행하여 하나의 값을 만든다. 이때 연산의 대상은 `피연산자`라고 하며, 이 피연산자는 값으로 평가될 수 있는 `표현식`이어야한다.

```js
// 산술 연산자
5 * 4; // 20

// 할당 연산자
color = 'red'; // 'red'
```

- 피연산자 : '값'을 명시 (연산 대상)
- 연산자 : 피연산자를 연산하여 새로운 값을 만든다
  <br /><br />

## 7.1 산술 연산자

산술 연산자는 피연산자를 대상으로 수학적 계산을 수행해 새로운 숫자 값을 만드는 연산자이다. 연산이 불가능한 경우 NaN, 즉 Not a Number을 반환한다.

### 1. 이행 산술 연산자

이행 산술 연산자는 2개의 피연산자를 산술 연산하여 숫자 값을 만든다. 모든 이항 산술 연산자는 값을 변경하는 경우 없이 새로운 값만 만들어낸다. 부수 효과가 없다!

- 덧셈 `+`, 뺄셈 `-`, 곱셈 `\*`, 나눗셈 `/`, 나머지 `%`

```js
console.log(5 + 2);
console.log(5 - 2);
console.log(5 / 2);
console.log(5 * 2);
console.log(5 % 2);
```

```js
> 7
> 3
> 2.5
> 10
> 1
```

<br />

### 2. 단항 산술 연산자

단항 산술 연산자는 1개의 피연산자를 산술 연산하여 숫자값을 만든다.

- 증가 `++`, 감소 `--`, 양수->음수 `-`, 음수->양수 `-`

증가, 감소 연산자는 피연산자의 값을 변경하는 암묵적인 할당이 이루어진다. 즉, 부수효과가 있다는 것이다.

```js
var x = 1;

x++;
console.log(x);

x--;
console.log(x);
```

```js
> 2
> 1
```

증가, 감소 연산자는 위치하는 곳이 가장 중요하다.

1. 전위 증가/감소 연산자<br />> 피연산자의 `앞`에 위치할 때 먼저 피연산자 값 변경 후 다른 연산 수행
2. 후위 증가/감소 연산자<br />> 피연산자의 `뒤`에 위치할 때 먼저 다른 연산을 수행한 후, 피연산자의 값을 변경

```js
var x = 5;
var result;

result = x++;
console.log(result, x);

result = ++x;
console.log(result, x);
```

```js
> 5 6
> 7 7
```

`+ 단항 연산자`는 피연산자에 어떠한 효과도 없다.

```js
console.log(+10);
```

```js
> 10
```

숫자 타입이 아닌 피연산자에 해당 연산자를 사용하면 피연산자를 숫자타입으로 변환한다.

```js
var x = '1';

console.log(+x);
console.log(x);

x = true;

console.log(+x);
console.log(x);
```

```js
> 1
> '1'

> 1
> true
```

`- 단항 연산자`는 피연산자의 부호를 반전한 값을 반환한다. 위의 단항 연산자와 마찬가지로 숫자 타입이 아닌 피연산자를 숫자 타입으로 변환한다.

```js
console.log(-(-10));
console.log(-'10');
```

```js
> 10
> -10
```

<br />

### 3. 문자열 연결 연산자

\+ 연산자는 피연산자 중 하나 이상이 문자열인 경우 문자열 연결 연산자로 동작한다.

```js
console.log('1' + 2);
console.log(1 + '2');
console.log(1 + true);
```

```js
> '12'
> '12',
> 2
```

> \_
>
> **암묵적 타입 변환**
>
> 타입 강제 변환(type coercion)이라고도 부르는 이 변환 방법은, 자바스크립트 엔진이 자동으로 데이터 타입을 변환하여 연산을 수행하도록 하는 것을 의미한다.
>
> 위 코드를 예로 들어보자. 먼저, true는 boolean 타입이다.
> 그러나 숫자 타입과 같이 연산을 수행하면, 자바스크립트는 암묵적으로 불리언 값을 숫자 타입 1로 강제 변환한다.
>
> 또한, +/- 단항 연산자를 사용할 때도 암묵적 타입 변환이 발생할수 있다.
>
> ```js
> 1 + true = 2
> // true는 1로 변환하여 1 + 1 = 2가 됨.
> ```
>
> ---

<br /><br />

## 7.2 할당 연산자

할당 연산자는 우항에 있는 피연산자의 평가결과를 좌항의 변수에 할당하는 연산자이다. 할당 연산자는 대체로 축약해서 사용하며, 동일한 표현으로 풀어서 쓰는 경우도 있다.
| 할당연산자 표현 | 동일 표현 |
| --- | --- |
| x = 5 | x = 5 |
| x += 5 | x = x + 5 |
| x -= 5 | x = x - 5 |
| x _= 5 | x = x _ 5 |
| x /= 5 | x = x / 5 |
| x %= 5 | x = x % 5 |

```js
var x;

x = 10;
console.log(x);

x += 5;
console.log(x);
```

```js
> 10
> 15
```

할당문은 값으로 평가되는 표현식인 문으로써 할당된 값으로 평가되기 때문에, 다다른 변수에 할당할 수도 있다. 이러한 특징을 활용하면 여러 변수에 동일한 값을 **연쇄 할당** 할 수 있다.

```js
let a = (b = c = 0);

console.log(a);
console.log(b);
console.log(c);
```

```js
> 0
> 0
> 0
```

<br /><br />

## 7.3 비교 연산자

비교 연산자는 좌항과 우항의 피연산자를 비교한 다음, 결과를 불리언 값으로 반환하는 연산자이다. 주로 제어문의 조건식에서 사용된다.

### 1. 동등/일치 비교 연산자

좌항과 우항의 피연산자가 같은 값으로 평가되는지 비교한다. 둘은 평가를 비교한다는 것에 비슷하지만, 동등 비교 연산자는 느슨한 비교를 하는데에 반해 일치 비교 연산자는 엄격한 비교를 한
다.

- 동등 비교 : x == y, x != y
- 일치 비교 : x === y, x !== y

다음은 `동등 비교` 연산자의 연산 과정이다.

1. 암묵적 타입 변환 실행
2. 타입 일치
3. 같은 값인지 비교
4. 같은 값 일수 있다면 true 반환

```js
let x = 5 == 5;
console.log(x);

let y = 5 == '5';
console.log(y);
```

```js
> true
> true
```

동등 비교 연산자는 결과를 예측하기 어렵고 실수하기 쉬울뿐만아니라 안티 패턴도 있으므로 사용하지 않는 편이 좋다. 대신 일치 비교 연산자를 사용한다.

일치 비교 연산자는 좌항과 우항의 피연산자가 타입도 같고 값도 같은 경우에 한하여 true를 반환한다.

```js
let x = 5 === 5;
console.log(x);

let y = 5 === '5';
console.log(y);
```

```js
> true
> false
```

일치 비교 연산자에서 가장 주의할 것은 바로 NaN이다. NaN은 자신과 일치하지 않는 유일한 값이다.

```js
NaN === NaN; // false
```

숫자의 NaN 여부를 조사하려면 Number.isNaN() 함수를 사용한다.

```js
Number.isNaN(10); // false
Number.isNaN('NaN'); // true
```

자바스크립트에서는 양의 0과 음의 0도 분리해서 사용한다.

```js
0 === -0; // true
0 == -0; // true
```

> \_
>
> **Object.is()**
>
> ES6에서 도입된 이 메서드는 예측 가능한 정확한 비교결과를 반환한다. 그 외에는 일치 비교 연산자와 동일하게 동작한다.
>
> ```js
> console.log(-0 === +0);
> console.log(Object.is(-0, +0));
>
> > true
> > false
> ```

<br />

### 2. 대소 관계 비교 연산자

대소 관계 비교 연산자는 피연산자의 크기를 비교하여 불리언값을 반환하는 연산자이다.

- x > y, x < y, x >= y, x <= y

```js
console.log(5 > 5);
console.log(5 >= 5);
```

```js
> false
> true
```

<br /><br />

## 7.4 삼항 조건 연산자

삼항 조건 연산자는 조건식의 평가 결과에 따라 반환할 값을 결정한다.

```js
var result = score >= 60 ? 'pass' : 'fail';

// score가 60 이상이라면 pass를 result에 할당하고, 아니라면 fail을 result에 할당한다.
```

물음표(?) 앞의 첫번째 피연산자는 불리언 타입의 값으로 평가된 표현식이다. 만약 평가 결과가 불리언 값이 아니라면 암묵적 타입으로 변환된다.

삼항 연산자는 if..else 문과 동일하다.

```js
var x = 2;
var result = x % 2 ? '홀수' : '짝수';

console.log(result);

if (x % 2) {
  result = '홀수';
} else {
  result = '짝수';
}

console.log(result);
```

```js
> '홀수'
> '홀수'
```

삼항 연산자의 표현식은 값처럼 사용할 수 있지만, if...else 문은 값처럼 사용할 수 없다.

`예) var result = if (...) {....} else (...) {....}`

<br /><br />

## 7.5 논리 연산자

논리 연산자는 우항과 좌항의 피연산자를 논리 연산한다.

- OR `||`, AND `&&`, NOT `!`

```js
console.log(true || true); // true
console.log(true || false); // true

cosnole.log(true && true); // true
console.log(true && false); // false

console.log(!true); // false
```

논리 부정 연산자 `!` 항상 불리언 값을 반환한다. 만약 피연산자가 불리언 값이 아니라면 불리언 타입으로 암묵적 타입 변환된다.

```js
!0; // true
!'Hello'; // false
```

논리합 `||`, 논리곱 `&&` 연산자 표현식은 항상 한쪽으로 평가된다.

```js
'BWV' && 'TESLA'; // TESLA
```

> \_
>
> **드 모르간의 법칙**
>
> 논리합의 부정은 각각 부정의 논리합(곱)과 같다는 법칙이다.<br />
> 관계 해석 연산자를 사용하여 나타낼 수 있다.
>
> `A와 B를 제외한 나머지 = A의 나머지와 B의 나머지의 교집합`<br /> > `=> not (A or B) = (not A) and (not B)`<br /> > `=> ㄱ (A V B) = (ㄱ A) ∧ (ㄱ B)`<br />
>
> ```js
> !(x || y) === (!x && !y);
> !(x && y) === (!x || !y);
> ```

<br /><br />

## 🚀 7.1 ~ 7.5 연산자 정리

1.산술 연산자: 피연산자를 대상으로 수학적 계산을 수행해 새로운 숫자 값을 생성<br />

- 이행 산술 연산자: 2개의 피연산자를 산술 연산하여 숫자 값 생성<br />
- 단행 산술 연산자: 1개의 피연산자를 산술 연산하여 숫자 값 생성

  > 1.2.1 전위 증가/감소 연산자: 피연산자의 값 변경 후 다른 연산 수행(부수 효과 있음)<br />
  > 1.2.2 후위 증가/감소 연산: 다른 연산을 수행한 후 피연산자의 값을 변경(부수 효과 있음)

- 문자열 연결 연산자 : 피연산자 중 하나 이상이 문자열인 경우 문자열 연결 연산자로 동작

  2.할당 연산자 : 우항에 있는 피연산자의 평가 결과를 좌항의 변수에 할당

  3.비교 연산자 : 좌항과 우항의 피연산자를 비교한 후 불리언 값으로 결과 반환<br />

- 동등/일치 비교 연산자 : 좌항과 우항의 피연산자가 같은 값으로 평가되는지 비교<br />
- 대소 관계 비교 연산자 : 피연산자의 크기를 비교하여 불리언값을 반환

  4.삼항 조건 연산자 : 조건식의 평가 결과에 따라 반환할 값을 결정<br />

  5.논리 연산자 : 우항과 좌항의 피연산자를 논리 연산<br />

<br />
<br />

## 7.6 쉼표 연산자

쉼표 연산자는 왼쪽 피연산자로부터 **차례대로** 평가 후 마지막 피연산자의 평가 결과를 반환하는 연산자이다.

```js
var x, y, z;
(x = 1), (y = 2), (z = 3); // 3
```

<br /><br />

## 7.7 그룹 연산자

자신의 피연산자인 표현식을 가장 먼저 평가하는 연산자이다. 소괄호 ()로 감싸 나타낸다. 그룹 연산자를 사용하면 동등한 연산자 간의 우선순위를 조절할 수 있다.

```js
10 * 2 + 3; // 20 + 3 = 23

10 * (2 + 3); // 10 * 5 = 50
```

<br /><br />

## 7.8 typeof 연산자

피연산자의 데이터 타입을 문자열로 반환한다. 반환하는 문자열은 다음 7가지이다.

- "string", "number", "boolean", "undefined", "symbol", "object", "function"

null을 반환하는 경우는 없다.

```js
let x = 'hello';

if (typeof x === 'string') {
  console.log('this is a string');
} else {
  console.log('this is not a string');
}
```

```
> this is a string
```

객체 타입의 데이터 타입들은 모두 object로 반환된다.

```js
console.log(typeof [])
console.log(typeof {})
console.log(typeof new Date())
console.log(tyepof /^[0-9]+/g)
```

```js
> object
> object
> object
> object
```

typeof 연산자는 null의 데이터 타입을 반환할 때 'object'를 출력한다. 이것은 자바스크립트의 첫번째 버전의 버그이며, 기존 코드에 영향을 줄 수 있어 수정되지 않았다고 한다. 따라서 null 타입을 확인하려면 typeof 연산자 대신 일치 연산자`===`를 사용하는 것이 좋다.

```js
var foo = null;

console.log(typeof foo);
console.log(typeof foo === null);
console.log(foo === null);
```

```js
> object
> false
> true
```

또한, 선언한 적 없는 식별자를 연산하려고 하면 ReferenceError 없이 undefined를 반환한다.

```js
console.log(typeof foo); // undefined
```

<br /><br />

## 7.9 지수 연산자

ES7부터 지수 연산자`**`를 제공한다. 이 연산자는 좌항의 피연산자를 base로, 우항의 피연산자를 지수로 사용하여 거듭 제곱한다. 이전에는 Math.pow() 메서드를 사용하였다.

```js
console.log(2 ** 2);
console.log(2 ** -2);
```

```js
> 4
> 0.25
```

거듭 제곱이 중첩되어 있거나 여러 개를 사용할 때 지수 연산자를 사용하는 것이 Math.pow()보다 가독성이 좋다.

```js
2 ** (3 ** 2);

Math.pow(2, Math.pow(3, 2));
```

음수를 거듭 제곱의 베이스로 사용하려면 괄호로 묶어야 한다. 그렇지 않으면 다음과 같은 에러가 발생한다.

> [ERROR]
> SyntaxError: Unary operator used immediately before exponentiation expression.
> Parenthesis must be used to disambiguate operator precedence.
>
> 거듭 제곱 식 직전에 단항 연산자가 사용되었다. 연산자 우선 순위를 명확하게 표시하기 위해 괄호를 사용해야한다.

```js
-5 ** 2     // SyntaxError!

(-5) ** 2   // Correct
```

지수 연산자는 할당 연산자와 함께 사용할 수 있다.

```js
var num = 5;
num **= 2;
```

지수 연산자는 이항 연산자 중 우선순위가 가장 높다.

```js
3 - 2 * 5 ** 2;

// 1위 : 5 ** 2
// 2위 : 2 * (5 ** 2)
// 3위 : 3 - (2 * (5 ** 2))
```

<br /><br />

## 7.10 그 외 연산자

- `?.` 옵셔널 체이닝 연산자 optional chaining operator<br />=> 9장
- `??` null 병합 연산자 nullish coalescing operator<br />=> 9장
- `delete` 프로퍼티 삭제<br />=> 10장
- `new` 생성자 함수 호출 및 인스턴스 생성<br />=>19장
- `in` 프로퍼티 존재 확인<br />=>19장
  <br /><br />

## 7.11 연산자의 부수 효과

할당 연산자, 증가/감소 연산자, delete 연산은 부수효과가 있기 때문에 주의해서 사용해야한다.

```js
let x = 1;

console.log(x++);
console.log(x);
```

```js
> 1
> 2
```

증감 연산자가 단독으로 쓰이지 않았을 경우에는 반드시 순서를 잘 파악해야한다.
예를 들어 x가 1이고 x++를 출력하는 경우에는 x를 먼저 출력하고 그 다음 x에 1을 더한다. 따라서 그 다음 코드로 x를 출력하면 2가 반환된다.
<br /><br />

## 7.12 연산자 우선순위

| 우선순위 | 연산자 명                   | 연산자 예시         |
| -------- | --------------------------- | ------------------- |
| 1        | 그룹                        | ( )                 |
| 2        | 매개변수가 있는 생성자 함수 | new                 |
|          | 계산된 프로퍼티 접근        | [ ]                 |
|          | 함수 호출                   | ( )                 |
|          | 옵셔널 체이닝               | ?.                  |
| 3        | 매개변수가 없는 생성자 함수 | new                 |
| 4        | 후위 증감연산자             | x++, x--            |
| 5        | 단항 연산자                 | !x, +x, -x          |
|          | 전위 증감연산자             | ++x, --x            |
|          | typeof 연산자               | typeof              |
| 6        | 지수 연산자                 | \*\*                |
| 7        | 이행 산술 연산자 (1)        | \*, /, %            |
| 8        | 이행 산술 연산자 (2)        | +, -                |
|          | (시프트 연산자)             | ( >>, << )          |
| 9        | 대소 관계 비교 연산자       | <. <=. >, >=        |
|          | 프로퍼티 존재 확인          | in                  |
|          | 상속 확인                   | instanceof          |
| 10       | 동등/일치 비교 연산자       | ==, !=, ===, !==    |
|          | (비트 연산자)               | ( &, ^, \| )        |
| 11       | null 병합 연산자            | ??                  |
| 12       | 논리 연산자 AND             | &&                  |
| 13       | 논리 연산자 OR              | \| \|               |
| 14       | 삼항 연산자                 | ... ? ... : ...     |
|          | (할당)                      | ( +=, -=, \*=, ...) |
| 15       | 쉼표 연산자                 | ,                   |

위에서 보다시피 연산자가 많아서 우선순위를 외우기가 쉽지 않다. 따라서 우선순위가 가장 높은 그룹 연산자를 사용하여 명시적으로 조절하는 것을 권장한다.
<br /><br />

## 7.13 연산자 결합 순서

연산자 결합 순서는 좌항 또는 우항 중 어디서부터 평가를 수행할 것인지를 나타내는 순서를 말한다.

- 좌측 결합 (좌항 -> 우항)<br />이행 산술 연산자, 비교 연산자, 논리 연산자, [], (), 옵셔널 체이닝, null 병합 연산자, 프로퍼티 존재 확인, 상속 확인<br /><br/>
- 우측 결합 (우항 -> 좌항)<br />증감연산자, 할당연산자, 단항연산자, typeof 연산자, delete, 삼항 연산자, 지수 연산자

```js
// 좌측 결합
x - y - z;
// 1. x - y
// 2. (x - y) - z

// 우측 결합
x - y - z;
// 1. y - z
// 2. x - (y - z)
```

<br /><br />

## 🚀 7.6 ~ 7.9 연산자 정리

- 쉼표 연산자 : 왼쪽 피연산자부터 차례대로 평가 후 마지막 평가 결과륿 반환

- 그룹 연산자 : 그룹 연산자를 우선 순위로 두고 연산 수행

- typeof 연산자 : 피연산자의 데이터 타입을 문자열로 반환

  - 주의 1) null은 "object"로 반환
  - 주의 2) NaN은 "number"로 반환
  - 주의 3) [], {}, new Date(), regex 모두 "object"로 반환

- 지수 연산자 : 좌항을 `밑`으로, 우항을 `지수`로 거듭 제곱하여 숫자 값 반환
