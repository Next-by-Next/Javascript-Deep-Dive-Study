# 4. 변수

<p align='center'>
📕 4장 4.1 ~ 4.6
</p>

<br />

## 4.1 변수란 무엇인가? 왜 필요한가?

### 컴퓨터에 값을 저장하는 방법

> 10 + 20 = 30

- 기호의 의미(+), 식의 의미(10 + 20)를 알아야 위의 식을 해석할 수 있다.
- 자바스크립트 엔진도 위와 같은 방법으로 코드를 계산한다.

  1. 10, 20, +라는 기호의 의미 (literal, operator)
  2. 10 + 20이라는 식의 의미(expression)
  3. 위 두개를 가지고 코드를 해석(parsing)할 수 있다.
  4. 의미 해석 후 연산자의 좌변과 우변의 값(= 피연산자)을 기억한다.
  5. 컴퓨터는 CPU를 사용해 연산하고, 메모리를 사용하여 데이터를 기억한다.

### 메모리

데이터를 저장할 수 있는 메모리 셀(1byte)의 집합

- 즉, 메모리 셀 크기(1바이트) 단위로 데이터를 저장하거나 읽는다.
- 예: `10 + 20 = 30`
  - 10을 메모리에 저장한다
  - 20을 메모리에 저장한다
  - CPU에서 10과 20을 읽어 연산을 수행한다
  - 연산의 결과(30)를 메모리에 저장한다.

### 변수란?

> `"메모리 공간에 저장된 값을 다시 읽어 재사용할 수 있도록 그 공간에 이름을 붙인 것"`

1. 하나의 값을 저장하기 위해 확보된 메모리 공간<br />
2. 그 메모리 공간을 식별하기 위해 붙인 이름, 즉 값의 위치를 가리키는 상징적인 이름<br />

### 할당과 참조

- 할당 : 변수에 값을 저장하는 것
- 참조 : 변수에 저장된 값을 읽는 것

<br />

## 4.2 식별자

어떤 값을 구별해서 식별할 수 있는 고유한 이름

- 메모리 주소를 기억한다!
- 변수, 함수, 클래스 등의 이름은 모두 식별자
- 변수를 '선언'하여 자바스크립트에 식별자의 존재를 알린다.

<br />

## 4.3 변수 선언

변수를 생성하는 것

- 값을 저장하기 위한 메모리 공간 확보 -> 변수 이름을 확보된 공간의 주소에 연결 -> 값 저장
- `반드시 선언 필요`
- 변수 선언 전, 미리 확보된 메모리 공간에는 값이 없기 때문에 `undefined`가 암묵적으로 할당되어 초기화된다.

### 키워드

코드를 해석하고 자바스크립트 엔진이 수행할 동작을 규정한 일종의 명령

- `var`, `let`, `const`
  > ⚠️ var는 함수 레벨 스코프이기 때문에 전역변수로 선언되어 부작용이 발생할 수 있다.

### 자바스크립트 엔진의 변수 선언

1. **선언 단계**: 변수 이름 등록 -> 변수 존재를 알린다.
2. **초기화 단계**: 메모리 공간 확보 -> 암묵적으로 undefined 할당한다.

### 쓰레기값

초기화 단계를 거치지 않을 경우, 확보된 메모리 공간에는 이전에 사용했던 값(= 쓰레기 값)이 남아있을 수 있다.

### ReferenceError

선언하지 않은 식별자에 접근하게 되었을 경우, ReferenceError 발생<br />
`[ReferenceError]`: 자바스크립트 엔진이 등록된 식별자를 찾을 수 없을때 발생

<br />

## 4.4 변수 선언의 실행 시점과 변수 호이스팅

```jsx
console.log(score);
var score;
```

위 예제에서 score을 선언 전에 사용하였으니 에러가 생길 것이라고 예상하겠지만, `undefined`가 출력된다.<br />
그 이유는, 변수 선언은 런타임이 아닌 그 이전 단계에서 먼저 실행되기 때문이다.

```jsx
console.log(score); // undefined

var score;
score = 80;

console.log(score); // 80
```

자바스크립트 엔진은 변수 선언을 다른 코드보다 먼저 선언한다. => **변수 호이스팅**

<br />

## 4.5 값의 할당

- 변수에 값을 할당 시에는 할당 연산자 `=`를 사용한다.<br />
  (예: var score = 90)
- 할당 연산자는 우변의 값을 좌변 변숭 할당한다.<br />
  (score에 90을 할당)

### 할당과 선언

```js
// 선언 후 할당
var score;
score = 90;

// 선언과 할당을 동시에
var score = 90;
```

- 선언 후 값을 할당한 코드와 선언과 할당을 동시에 하는 코드는
  동일하게 동작한다.
- 그 이유는,
  1. 변수 선언은 런타임 이전에 먼저 실행하고,
  2. 할당은 소스코드가 순차적으로 실행되는 시점에 실행하기 때문이다.

<br />

## 4.6 값의 재할당

### 재할당

현재 변수에 저장된 값을 버리고 새로운 값을 저장하는 것이다.
값을 재할당할 수 없다면 => **상수 const**

```jsx
const num = 100;
num = 50; // TypeError
```

### 가비지 콜렉터

애플리케이션이 할당한 메모리 공간을 주기적으로 검사하여 더 이상 사용되지 않는 메모리를 해제하는 기능 (누수 방지)

### 프로그래밍 언어 분류

**Unmanaged 언어** : C언어<br />
-> 메모리 제어를 개발자가 주도할 수 있다. (malloc(), free())<br />
**Managed 언어** : 자바스크립트<br />
-> 개발자가 명시적으로 메모리를 할당하고 해체할 수 없다.
