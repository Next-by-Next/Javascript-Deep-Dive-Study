## 📕 오늘 공부한 내용 . ✒

**오늘 읽은 범위** : 4장 4.1 ~ 4.6

### 4. 변수

## 변수

변수란 **하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름을 말한다.**
값의 위치를 가리키는 상징적인 이름으로 어떤 값을 구별해서 식별할 수 있는 고유한 이름을 뜻하는 **식별자**라고 부르기도 한다.

예제를 통해 변수에 대해서 자세히 살펴보자.

```javascript
10 + 20;
```

사람의 입장으로 해당 예제를 봤을때는 10과 20을 더하고 그 결과는 30 이라는 생각을 도출 할 수 있다.

그렇다면 반대로 컴퓨터의 입장에서 생각해 보자.

컴퓨터는 해당 연산을 수행하기 위해서 연산에 필요한 2개의 값과 결과를 메모리에 저장한다.

(1) 10이라는 값을 메모리에 저장한다.

`0x01231245(메모리 주소) -> 10`

(2) 20이라는 값을 메모리에 저장한다.

`0x12345679(메모리 주소) -> 20`

(3) CPU 에서는 연산을 위해 각각의 메모리 주소에 접근해 10과 20이라는 정보를 얻고 연산결과인 30을 메모리에 저장한다.

`0x23451324(메모리 주소) -> 30`

간단히 생각해 위 동작 과정은 쉽게 유추 할 수 있지만 한가지 간과하는 점이 있다.

바로 직접 메모리 주소에 접근해 해당 값을 가져오는 점이다. 컴퓨터는 가능하지만 개발자는 해당 메모리 주소를 이용해 값에 직접적으로 접근할 수 없다.

그 이유는 메모리 주소는 코드가 실행될 때 상황에 따라 임의로 결정될 뿐만 아니라, 실수로 메모리 주소에 직접 접근해 변경을 할경우 운영체제에 치명적인 문제를 초래할 수 있기 때문이다.

따라서 우리는 이런 문제를 해결하고자 변수를 사용하는 것이다.

그렇다면 변수를 사용하면 개발자가 메모리 주소에 저장된 값에 직접적으로 접근할수 있는가 ?

답은 Yes이다.

변수는 식별자로서 값이 저장되어 있는 메모리 주소와 매핑 관계를 맺는다.

따라서 우리는 다시 변수를 **하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름** 이라고 생각할 수 있다.

그렇다면 변수는 어떻게 만드는 것일까 ?

## 변수 선언

변수를 만든다는것 즉, 생성한다는것은 변수를 선언한다고 말할 수 있다.

변수 선언의 과정을 더 들여다 본다면 값을 저장하기 위한 메모리 공간을 확보하고 확보된 메모리 공간의 주소를 변수의 이름에 연결해 값을 저장한다.

변수를 선언하기 위해서는 `var, let, const` 키워드를 사용한다.

> 키워드란 자바스크립트 엔진에게 수행할 동작을 규정해주는 것이다. 자바스크립트 엔진은 키워드를 만나면 해당 키워드에 대한 약속된 동작을 수행한다.

자바스크립트의 변수 선언에는 한가지 특이한점이 있는데 바로 **호이스팅**이다.

예제를 통해 살펴보자

```javascript
console.log(score); // undefined

var score = 10;

console.log(score); // 10
```

위 예제를 보면 첫번째 `console.log(score)` 문에서 왜 `undefined` 가 출력되는지 의아해 할것이다.

그 이유는 변수의 암묵적 할당과 선언되는 시점에서 찾아볼 수 있다.

위에서 부터 아래로 실행되는 다른 언어들과 마찬가지로 자바스크립트 또한 위에서 아래로 코드가 한줄씩 실행된다.

그렇지만 한가지 차이점이 있다면 자바스크립트는 변수의 선언은 코드가 위에서 아래로 한줄씩 실행되는 런타임 시점보다 먼저 실행된다.

즉, 코드의 첫번째 `console.log(score)` 보다 `var score = 10;` 이 먼저 실행된다.
그렇다면 여기서 또 한가지 의아해 할것이다.
"score의 값으로 10을 넣었는데 왜 undefined가 출력되는 건가요 ?"

이 질문의 답을 **암묵적 할당** 에서 찾을 수 있다.

자바스크립트는 변수의 선언을 런타임 이전에 실행한다고 했다.

즉, 변수의 값으로 10을 넣는다는것은 모든 변수의 선언이 끝난후 런타임 시점에 실행되며 해당 변수의 메모리 공간의 값을 비워두지 않고 `undefined` 를 넣어놔 예상치 못한 에러를 방지한다. 그렇기 때문에 첫번째 `console.log(score)`문에서 에러가 발생되지 않고 `undefined`가 출력되는 것이다.

또, `var score = undefined;` 변수 선언이 코드의 제일 상단으로 올라가 실행되는것 처럼 보이는 것을 **호이스팅**이라 한다.

그리고 추가로 변수에 값을 저장하는, 변수가 가르키고 있는 메모리 공간에 어떤 값을 저장한다는 것을 **할당**이라고 한다.

그렇다면, 변수에 저장된 값을 변경하고 싶을땐 어떻게 해야 하나?

## 값의 재할당

값을 재할당 하기 위해서는 간단하게 변수 선언문의 키워드를 제거하고 `=` 연산자 우변에 새로운 값을 작성하면 된다.

```javascript
var score = 10;

score = 20;

console.log(score); // 20
```

> 엄밀히 따진다면 `var score = 10;` 이 선언문에서 `score` 의 값이 `undefined` 로 할당되었다가 10 으로 재할당 된다고 볼 수 있다.

재할당시에는 `score`가 가르키고 있던 메모리 공간에 10을 지우고 20을 저장한다고 생각할 수 있다.

하지만 재할당 시에도 새로운 `score` 에게 새로운 메모리 공간을 가르키게해 그 메모리 공간에 새로운 값 20을 저장한다.

이전에 10을 저장하고 있던 메모리 공간은 자바스크립트에 내장된 가비지 콜렉터 기능이 수행됨으로 정리된다.

#### +간결한 세 줄 요약

변수는 값을 저장할 메모리 공간의 주소를 가르키는 이름이라고 생각할 수 있다.
