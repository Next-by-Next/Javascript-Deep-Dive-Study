**TIL(Today I learn) 기록일** : 2023.11.15

# 12장 함수

## 1. 함수란? 

함수는 일련의 과정을 문으로 구현하고 코드 블록으로 감싸서 하나의 실행 단위로 정의한 것입니다.    

## 2. 함수 리터럴 

**함수는 객체 타입의 값입니다.** 따라서 숫자 값을 숫자 리터럴로 생성하고 객체를 객체 리터럴로 생성하는 것처럼 함수도 함수 리터럴로 생성할 수 있습니다.    
```js
// 변수에 함수 리터럴을 할당
var f = function add(x, y) {
  return x + y;
};
```

- 함수는 객체지만 일반 객체와는 다르다. 일반 객체는 호출할 수 없지만 함수는 호출할 수 있습니다. 
- 일반객체에는 없는 함수 객체만의 고유한 프로퍼티를 갖습니다.

## 3. 함수 정의 

함수의 정의란 함수를 호출하기 이전에 인수를 전달받을 매개변수와 실행할 문들 그리고 반환할 값을 지정하는 것입니다.    

>함수를 정의하는 방법에는 4가지가 있습니다.
<img width="910" alt="image" src="https://user-images.githubusercontent.com/76567238/180667009-fd9a28cc-c64d-4a5f-a42b-69400e08f000.png">

### 1) 🥎 함수 선언문

```js 
// 함수 선언문
function add(x,y) {
   return x + y;
}
```
선언문은 함수 이름을 생략할 수 없습니다.  (함수 리터럴은 함수 이름이 생략 가능합니다)    
선언문은 표현식이 아닌 문 입니다.    
표현식이 아닌 문은 변수에 할당할 수 없는데 함수 선언문이 변수에 할당된 것처럼 표현할 수 있습니다.   

<br>

자바스크립트 엔진은 생성된 함수를 호출하기 위해 함수 이름과 동일한 이름의 식별자를 암묵적으로 생성하고, 거기에 함수 객체를 할당합니다.     



![image](https://github.com/Ryan-Dia/Javascript-Deep-Dive-Study/assets/76567238/bccc6014-0998-4a0f-9cbf-1861b4d0b965)

함수는 함수 이름으로 호출하는 것이 아니라 함수 객체를 가리키는 식별자로 호출합니다.    
즉, 함수 선언문으로 생성한 함수를 호출한 것은 함수 이름 add가 아니라 자바스크립트 엔진이 암묵적으로 생성한 식별자 add인 것입니다.    

함수 이름과 변수 이름이 일치하므로 함수 이름으로 호출되는 듯하지만 사실은 식별자로 호출된 것입니다.   

결론적으로 자바스크립트 엔진은 함수 선언문을 함수 표현식으로 변환해 함수 객체를 생성한다고 생각할 수 있습니다.    
단, 함수 선언문과 함수 표현식이 정확히 동일한 것은 아닙니다.    


### 2) 🥎 함수 표현식    

자바스크립트 함수는 객체 타입의 값입니다. 자바스크립트의 함수는 아래처럼 여러가지가 될 수 있습니다.   
- 값처럼 변수에 할당할 수 있습니다.
- 프로퍼티 값이 될 수도 있습니다.
- 배열의 요소가 될 수도 있습니다.

이처럼 값의 성질을 갖는 개체를 입급 객체라 합니다. 함수가 일급 객체라는 것은 함수를 값처럼 자유롭게 사용할 수 있다는 의미입니다.     

함수는 일급 객체이므로 함수 리터럴로 생성한 함수 객체를 변수에 할당할 수 있습니다. 이러한 함수 정의 방식을 함수 표현식이라 합니다.   
```js
// 함수 표현식
var add = function (x, y) {
  return x+y;
};

console.log(add(2,5)); // 7
```

함수 선언문에서는 함수를 호출할 때는 함수 이름이 아니라 함수 객체를 가리키는 식별자를 사용해야 합니다. 함수 이름은 함수 몸체 내부에서만 유효한 식별자이므로 함수 이름으로 함수를 호출할 수 없다.   

```js
// 기명 함수 표현식
var add = function foo (x, y) {
  return x + y;
};

// 함수 객체를 가리키는 식별자로 호출
console.log(add(2, 5)); // 7

// 함수 이름으로 호출하면 ReferenceError가 발생한다.
// 함수 이름은 함수 몸체 내부에서만 유효한 식별자이다.
console.log(foo(2, 5)); // ReferenceError: foo is not defined
```


## 4. 함수 호출 

함수를 호출하면 현재의 실행 흐름을 중단하고 호출된 함수로 실행 흐름을 옮깁니다.     
이때 매개변수에 인수가 순서대로 할당되고 함수 몸체의 문들이 실행되기 시작한다.    
```js
// 함수 선언문
function add(x, y) {
	return x + y;
}

// 함수 호출
// 인수 1과 2가 매개변수 x와 y에 순서대로 할당하고 함수 몸체의 문들이 실행된다.
var result = add(1, 2);
```

>함수는 매개변수의 개수와 인수의 개수가 일치하는지 체크하지 않습니다.
```js
function add(x, y) {
	return x + y;
}
console.log((add(2)); // NaN
```
- 인수가 부족해서 인수가 할당되지 않은 매개변수의 값은 `undefined` 입니다.
- 매개변수보다 인수가 더 많은 경우 초과된 인수는 무시됩니다.

### 📌 매개변수의 최대 개수   
- ECMAScript 사양에서는 매개변수의 최대 개수에 대해 명시적으로 제한하고 있지 않다.
- 하지만 이상적인 매개변수 개수는 0개이며 적을수록 좋습니다.
- 매개변수는 최대 3개 이상을 넘지 않는 것을 권장합니다.
- 그 이상의 매개변수가 필요하다면 객체를 인수로 전달하는 것이 유리합니다.
  - ❗️ 주의 : 함수 외부에서 내부로 전달한 객체를 함수 내부에서 변경하면 함수 외부의 객체가 변경되는 부수 효과가 발생합니다. 
