# 12장 함수

## 3. 함수 리터럴

자바스크립트의 함수는 **객체 타입의 값**이다. 따라서 리터럴로 그 값을 생성할 수 있다.  
함수 리터럴은 function 키워드, 함수 이름(식별자), 매개 변수 목록, 함수 몸체로 구성된다.

> **리터럴이란?**
> 값을 생성하기 위한 표기법. 함수 리터럴의 평가 값은 객체다.

**일반 객체와 다르게 함수는 호출할 수 있다**.

## 4. 함수 정의

함수 정의 방법엔 4가지 방법이 있다.

| 함수 정의 방식       | 예시                                            |
| -------------------- | ----------------------------------------------- |
| 함수 선언문          | `function add(x,y) { return x + y }`            |
| 함수 표현식          | `var add = function(x,y) {}`                    |
| Function 생성자 함수 | `var add = new Fuction('x', 'y', 'return x+y')` |
| 화살표 함수(ES6)     | `var add = (x,y) => x + y`                      |

<br/>

### 함수 선언문

함수 선언문은 함수 리터럴과 형태가 동일하다. 단, 함수 리터럴은 함수 이름을 생략할 수 있으나 함수 선언문은 함수 이름을 생략할 수 없다.
함수 리터럴은 객체를 리턴하는 표현식인 문인 반면, 함수 선언문은 undefined를 리턴하는 표현식이 아닌 문이기 때문이다.(명령문)

```js
// 함수 선언문은 함수 이름을 생략할 수 없다.
// SyntaxError
function (x,y) {
  return x+y;
}

// 함수 리터럴은 함수 이름을 생략할 수 있다.
var f = function (x,y) {
  return x+y;
}
```

그렇다면 아래와 같은 코드는 어떨까?

```js
var add = function add(x, y) {
  return x + y;
};
```

위 코드는 마치 함수 선언문이 변수에 할당되는 것 처럼 보인다. 하지만 함수 선언문은 변수에 할당이 불가능하므로 위 예제는 **기명 함수 리터럴**로 해석된다.
이처럼 중의적인 코드가 문맥에 따라 다르게 해석되는 일이 있다. 이때 함수 선언문이든 함수 리터럴 표현식이든 **함수가 생성되는 시점은 동일**하지만, **함수를 생성하는 내부 동작에 차이가 있다**.

```js
function foo() {
  console.log('foo');
}
foo();

(function bar() console.log('bar'));
bar(); // ReferenceError
```

위 코드를 보면, 둘 다 같은 코드인 것 같지만 foo는 함수 호출이 가능한 반면 bar는 불가능하다. 왜냐하면 bar는 그룹 연산자 내에서 선언되고 있으므로 값으로 평가될 수 있는 표현식인 리터럴로 해석되기 때문이다.  
**함수 리터럴에서 함수 이름은 함수 몸체 내에서만 참조할 수 있는 식별자**이므로 외부에서는 호출할 수 없다. 즉, **bar는 함수를 가리키는 식별자가 없는 상태와 같다**.  
반면 foo의 경우 마찬가지로 함수 이름은 몸체 내에서만 참조할 수 있지만, **자바스크립트 엔진이 암묵적으로 식별자를 생성**하므로 참조할 수 있다.

<br/>

### 함수 표현식

자바스크립트에서 함수는 **일급 객체**다. 따라서 자바스크립트의 함수는 값처럼 자유롭게 사용할 수 있다.
함수는 일급 객체이므로 함수 리터럴로 생성한 함수 객체를 변수에 할당할 수 있다. 이러한 정의 방식을 **함수 표현식**이라 한다. 이때 함수 리터럴의 함수 이름은 생략 가능한데, 이러한 함수를 익명 함수라고 한다.
즉, 함수 표현식은 **변수 선언문과 변수 할당문을 한번에 기술한 축약 표현**으로 볼 수 있다.

### 함수 선언문과 함수 표현식

- 함수 선언문
  - 표현식이 아닌 문. 식별자는 암묵적으로 생성된다.
- 함수 표현식
  - 표현식인 문. 식별자를 지정해줘야 한다.

둘은 함수의 생성시점이 다르기 때문에 호이스팅 여부가 갈린다.

- 함수 선언문
  - 런타임 이전에 생성. 호이스팅이 가능하다.
- 함수 표현식
  - 변수는 런타임 이전에 undefined로 초기화되지만, 변수 할당문의 값은 런타임에 평가된다. 따라서 호이스팅이 불가능하다.
