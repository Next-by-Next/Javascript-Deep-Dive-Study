## 📕 오늘 공부한 내용 . ✒

**오늘 읽은 범위** : 33장

### 33. 7번째 데이터 타입 Symbol

## Symbol ?

`Symbol`은 ES6부터 도입된 7번째 데이터 타입으로 변경 불가능한 원시 타입의 값이다.<br>
심벌 값은 다른 값과 중복 되지 않는 유일무이한 값이다.<br>
따라서, 주로 이름의 충돌 위험이 없는 유일한 프로퍼티 키를 만들기 위해 사용한다.

---

## 심벌 값의 생성

심벌 값은 `Symbol` 함수를 호출하여 생성한다.<br>
리터럴 표기법을 통해 값을 생성할 수 잇는 다른 데이터 타입에 비해서 심벌 값은 함수를 호출하여 생성해야 한다.

생성자 함수와 같이 생성하는 다른 데이터 타입에 비해 심벌값을 함수 호출로 생성할때는 `new` 연산자를 사용하지 않는다.

```javascript
new Symbol(); // TypeError
```

Symbol 함수에는 선택적으로 문자열을 인수로 전달할 수 있다.<br>
이 문자열은 생성된 심벌 값에 대한 설명으로 디버깅 용도로만 사용된다.

또한, 심벌 값도 문자열, 숫자, 불리언과 같이 객체처럼 접근하면 암묵적으로 래퍼 객체를 생성한다.

```javascript
const mySymbol = Symbol('mySymbol');

console.log(mySymbol.description); // mySymbol
console.log(mySymbol.toString()); // Symbol(mySymbol)
```

심벌 값은 암묵적으로 문자열이나 숫자 타입으로 변환되지 않는다.<br>
단, 불리언 타입으로는 암묵적으로 타입이 변환된다.

### Symbol.for / Symbol.keyFor

`Symbol.for` 메서드는 인수로 전달받은 문자열을 키로 사용하여 키와 심벌 값의 쌍들이 저장되어 있는 전역 심벌 레지스트리에서 해당 키와 일치하는 심벌 값을 검색한다.

```javascript
const s1 = Symbol.for('mySymbol');
const s2 = Symbol.for('mySymbol');

console.log(s1 === s2);
```

Symbol 함수는 호출될 때마다 유일무이한 심벌 값을 생성한다.<br>
하지만, Symbol.for 메서드를 사용하면 어플리케이션 전역에서 중복되지 않는 유일무이한 상수인 심벌 값을 하나만 생성하여 전역 심벌 레지스트리를 통해 공유할 수 있다.

`Symbol.keyFor` 메서드를 사용하면 전역 심벌 레지스트리에 저장된 심벌 값의 키를 추출할 수 있다.

---

## 심벌과 상수

상수로 선언한 객체의 프로퍼티는 key만 의미가 있을뿐, 값에는 의미가 없는 경우가 있을수 있다.<br>
이경우 값에 Symbol을 사용하여 중복될 가능성이 없는 유일무이한 심벌 값을 사용할 수 도 있다.

---

## 심벌과 프로퍼티 키

심벌 값은 유일무이한 값이므로 심벌 값으로 프로퍼티 키를 만들면 다른 프로퍼티 키와 절대 충돌하지 않는다.<br>
또한, `for...in, Object.keys, Object.getOwnPropertyNames` 메서드로도 찾을 수 없다.

즉, 외부로 노출할 필요가 없는 프로퍼티를 은닉할 수 있다.<br>
하지만, 완벽하게 숨길수 있는 것은 아니며, `Object.getOwnPropertySymbols` 메서드를 사용하면 심벌 값을 프로퍼티 키로 사용하여 생성한 프로퍼티를 찾을 수 있다.

심벌은 중복되지 않는 상수 값을 생성하는 것은 물론 기존에 작성된 코드에 영향을 주지 않고 새로운 프로퍼티를 추가하기 위해, 즉 하위 호환성을 보장하기 위해 도입되었다.
