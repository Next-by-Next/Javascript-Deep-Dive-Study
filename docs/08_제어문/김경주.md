## 8장 제어문

<br>

조건에 따라 코드 블록(조건문)을 실행하거나 반복 실행(반복문)할 때 사용한다. 일반적으로 코드는 차례대로 실행되는데 제어문을 사용하면 코드의 실행 흐름을 인위적으로 제어할 수 있다.

<br>

### 8.1 블록문

---

0개 이상의 문을 중괄호로 묶은 것으로, 코드 블록 또는 블록이라고 부른다. 블록문은 단독으로 사용할 수도 있으나 일반적으로 제어문이나 함수를 정의할 때 사용하는 것이 일반적이다.<br>
문의 끝에는 세미콜론을 붙이는 것이 일반적이지만 블록문은 자체 종결성을 갖기 때문에 세미콜론을 붙이지 않는다.

<br>

### 8.2 조건문

---

주어진 조건식의 평가 결과에 따라 코드 블록(블록문)의 실행을 결정한다.<br>
조건식은 불리언 값으로 평가될 수 있는 표현식이다.

<br>

#### 8.2.1 if...else문

`if...else문`은 논리적 참 또는 거짓에 따라 실행할 코드 블록을 결정한다.

```js
if (조건식) {
  // 조건식이 참이면 이 코드 블록이 실행
} else {
  // 조건식이 거짓이면 이 코드 블록이 실행
}
```

`if문`의 조건식이 불리언 값이 아니면 암묵적으로 불리언 값으로 강제 변환되어 실행할 코드 블록을 결정한다.<br>
조건식을 추가하여 조건에 따라 실행될 코드 블록을 늘리고 싶으면 `else if문`을 사용한다.

```js
if (조건식1) {
  // 조건식1이 참이면 이 코드 블록이 실행
} else if (조건식2) {
  // 조건식2가 참이면 이 코드 블록이 실행
} else {
  // 조건식1과 조건식2가 모두 거짓이면 이 코드 블록이 실행
}
```

`else if문`과 `else문`은 사용할 수도 있고 사용하지 않을 수도 있다. if문과 else문은 2번 이상 사용할 수 없지만 `else if문`은 여러 번 사용할 수 있다.<br>
`if...else문`은 `삼항 조건 연산자`로 바꿔 쓸 수 있다. 조건에 따라 단순히 값을 결정하여 변수에 할당하는 경우 if...else문보다 `삼항 조건 연산자`를 사용하는 것이 좋지만 조건에 따라 실행해야 할 내용이 복잡하다면 `if...else문`을 사용하는 것이 좋다.

<br>

#### 8.2.2 switch문

주어진 표현식을 평가하여 그 값과 일치하는 표현식을 갖는 `case문`으로 실행 흐름을 옮긴다.
`case문`은 상황을 의미하는 표현식을 지정하고 콜론으로 마치고 그 뒤 실행할 문들을 위치시킨다. `switch문`의 표현식과 일치하는 `case문`이 없다면 실행 순서는 `default문`으로 이동한다.

```js
switch (표현식) {
  case 표현식1:
    switch 문의 표현식과 표현식1이 일치하면 실행될 문;
    break;
  case 표현식2:
    switch 문의 표현식과 표현식2가 일치하면 실행될 문;
    break;
  default:
    switch 문의 표현식과 일치하는 case 문이 없을 때 실행될 문;
}
```

`if...else문`은 논리적 참, 거짓으로 실행할 코드 블록을 결정할 때 `switch문`은 다양한 상황(case)에 따라 실행할 코드 블록을 결정할 대 사용한다.

```js
var month = 11;
var monthName;

switch (month) {
  case 9:
    monthName = "September";
  case 10:
    monthName = "October";
  case 11:
    monthName = "November";
  case 12:
    monthName = "December";
  default:
    monthName = "Invalid month";
}

console.log(monthName); // Invalid month
```

위 예제를 실행해 보면 'Novermber'가 출력되지 않고 'Invalid month'가 출력된다. 이는 siwtch문의 표현식의 평가 결과가 일치하는 case문이 실행된 것은 맞지만 문을 실행한 후 switch문을 탈출하지 않고 switch문이 끝날 때까지 모든 `case문`과 `default문`을 실행했기 때문인데 이를 **폴스루**라 한다. 이를 해결하기 위해선 `case문`에 해당하는 문의 마지막에 `break문`을 사용하면 된다. <br>
`if...else문`으로 해결할 수 있다면 `switch문`보다 `if...else문`을 사용하는 것이 좋지만 조건이 많아서 `switch문`을 사용할 때 가독성이 더 좋다면 `switch문`을 사용하는 편이 좋다.

<br>

### 8.3 반복문

---

조건식의 평가 결과가 참인 경우 코드 블록을 실행한다. 그 후 조건식을 다시 평가하여 참인 경우 다시 실행하고 이는 조건식이 거짓일 때까지 반복된다.<br>
자바스크립트는 `for문`, `while문`, `do..while문` 세가지를 제공한다.

<br>

#### 8.3.1 for문

조건식이 거짓으로 평가될 때까지 코드 블록을 반복 실행한다.

```js
for(변수 선언문 도는 할당문; 조건식; 증감식){
  조건식이 참인 경우 반복 실행될 문;
}
```

```js
for (var i = 0; i < 2; i++) {
  console.log(i);
}
```

```js
for (var i = 1; i >= 0; i--) {
  console.log(i);
}
```

for문의 변수 선언문, 조건식, 증감식은 모두 사용할 필요는 없다.<br>
for문 내에 for문을 중첩해 사용할 수 있는데 이를 `중첩 for문`이라 한다.

```js
for (var i = 1; i <= 6; i++) {
  for (var j = 1; j <= 6; j++) {
    if (i + j === 6) console.log(`[${1},${j}]`);
  }
}
```

<br>

#### 8.3.2 while문

주어진 조건식의 평가 결과가 참이면 코드 블록을 계속 반복해서 실행한다. `for문`은 반복 횟수가 명확할 때 사용하고 `while문`은 반복 횟수가 불명확할 때 사용한다.<br>
`while문`은 조건문의 평가 결과가 거짓이 되면 코드 블록을 실행하지 않고 종료한다.
무한루프에서 탈출하기 위해서는 코드블록 내에 `if문`으로 탈출 조건을 만들고 `break문`으로 코드 블록에서 탈출한다.

<bt>

#### 8.3.3 do...while문

코드 블록을 먼저 실행하고 조건식을 평가한다. 따라서 코드 블록은 무조건 한 번 이상 실행된다.

<br>

### 8.4 break문

---

switch문과 while문에서 보았듯이 `break문`은 코드 블록에서 탈출한다. 레이블문, 반복문, switch문의 코드블록 외에 break문을 사용하면 `SyntaxError`가 발생한다.

레이블문은 프로그램의 실행 순서를 제어하는 데 사용하고 탈출하려면 `break문`에 레이블 식별자를 지정한다.

```js
// foo라는 식별자가 붙은 레이블 블록문
foo: {
  console.log(1);
  break foo; // foo 레이블 블록문을 탈출
  console.log(2);
}
console.log("Done!");
```

중첩된 for문의 내부 for문에서 break문을 실행하면 한 단계만을 탈출해 외부 for문으로 진입한다.  
이때 `외부 for문`까지 탈출하려면 `레이블문`을 사용한다.

```js
outer: for (var i = 0; i < 3; i++) {
  for (var j = 0; j < 3; j++) {
    if (i + j === 3) break outer;
    console.log(`inner ${i}, ${j}`);
  }
}
console.log("Done!");
```

이렇게 레이블문은 중첩된 for문을 완전히 탈출할 때는 유용하지만 그 외의 경우에는 권장하지 않는다.

<br>

### 8.5 continue문

---

반복문의 코드 블록 실행을 현 지점에서 중단하고 반복문의 증감식으로 실행 흐름을 이동시키고 `break문`처럼 반복문에서 탈출하지는 않는다.

```js
for (var i = 0; i < string.length; i++) {
  if (string[i] !== search) continue;
  count++;
}
```

```js
for (var i = 0; i < string.length; i++) {
  if (string[i] !== search) count++;
}
```

위 두개의 `for문`은 동일하게 동작하는데 `if문` 내에서 실행해야 할 코드가 한줄이라면 `continue문`을 사용했을 때보다 가독성이 좋다.
하지만 `if문` 내에서 실행해야 할 코드가 길다면 `continue문`을 사용하는 것이 더 좋다.
