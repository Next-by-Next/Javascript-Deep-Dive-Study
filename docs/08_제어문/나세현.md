## 📔 8장: 제어문

제어문은 조건에 따라 코드 블록을 실행하거나 반복 실행할 때 사용한다.  
하지만 이는 원래 위에서 아래로 진행되는 직관적인 코드의 흐름을 방해할 수도 있으므로 가독성을 해칠 수도 있다는 단점을 가진다.  
`forEach`, `map`, `filter` 등의 고차 함수는 제어문의 사용을 억제해 복잡성을 해결하려고 노력한다.

### ✨ 8.1: 블록문

0개 이상의 문을 중괄호로 묶은 것으로, 하나의 실행 단위로 취급된다.  
단독으로 사용할 수도 있지만 일반적으로 제어문이나 함수를 정의할 때 사용한다.  
문의 끝에는 세미콜론을 붙여야 하지만, 블록문은 자체 종결성을 가지기 때문에 세미콜론을 붙이지 않는다.

```javascript
{
  var foo = 10;
}
```

### ✨ 8.2: 조건문

주어진 조건식의 평가 결과에 따라 코드 블록(블록문)의 실행을 결정한다.

- `if...else`문
- `switch`문

#### `if...else`문

조건식의 평가 결과가 `true`라면 `if`문의 코드 블록을 실행하고, `false`라면 `else`문의 코드 블록을 실행한다.  
조건식을 추가해 조건에 따라 실행될 코드 블록을 구체화시키고 싶다면 `else if`문을 사용한다.  
만약 코드 블록 내의 문이 하나뿐이라면 중괄호는 생략 가능하다.

```javascript
var num = 2;
var kind;

if (num > 0) {
  kind = '양수';
}

if (num > 0) kind = '양수';
```

대부분의 `if...else`문은 삼항 조건 연산자로 바꿔 쓸 수 있다.  
전에 짚고 넘어갔듯이 삼항 조건 연산자는 값으로 평가되는 표현식을 만들기 때문에 값처럼 사용할 수 있지만 `if...else`문은 그럴 수 없다.

#### `switch`문

주어진 표현식을 평가하여 그 값과 일치하는 표현식을 갖는 `case`문으로 실행 흐름을 옮긴다.  
`switch`문의 표현식과 일치하는 `case`문이 없다면 `default`문으로 이동한다.  
`if...else`문의 조건식은 불리언 값으로 평가되어야 하지만 `switch`문의 표현식은 문자열이나 숫자 값인 경우가 많다.  
**`switch`문의 표현식과 일치하는 `case`문으로 실행 흐름이 이동하고 문을 실행한 다음에는 `break`문으로 그 흐름에서 탈출해야 한다.**  
그렇지 않으면 그 `case`문부터 모든 `case`문을 다 실행하는 폴스루가 발생한다.  
`default`문은 어차피 맨 마지막에 위치하기 때문에 종료되면 바로 `switch`문을 빠져나가므로 별도의 `break`문이 필요하지 않다.

```javascript
var month = 4;
var monthName;

switch (month) {
  case 1:
    monthName = 'January';
    break;
  case 2:
    monthName = 'February';
    break;
  case 3:
    monthName = 'March';
    break;
  case 4:
    monthName = 'April';
    break;
}
```

만약 `if...else`문으로 해결 가능하다면 `switch`문보다는 `if...else`문을 사용하는 편이 좋지만, 가독성이 더 좋은 문을 선택하면 된다.

### ✨ 8.3: 반복문

조건식의 평가 결과가 `true`라면 코드 블록을 실행하며, 그 후 조건식을 다시 평가해 여전히 `true`라면 코드 블록을 다시 실행한다. (조건식 평가 결과가 `false`가 될 때까지 반복)

- `for`문
- `while`문
- `do...while`문

#### `for`문

```javascript
for (변수 선언문 또는 할당문; 조건식; 증감식) {
    조건식이 참인 경우 반복 실행될 문;
}

for (var i = 0; i < 2; i++) {
    console.log(i);
}
```

변수 선언문, 조건식, 증감식은 모두 옵션이지만 어느 것도 선언하지 않으면 무한루프가 된다.  
`for`문 안에 또다른 `for`문을 중첩하여 사용할 수도 있다.

#### `while`문

`for`문은 반복 횟수가 명확할 때 주로 사용하며 `while`문은 반복 횟수가 불명확할 때 주로 사용한다.  
조건식의 평가 결과가 언제나 참이라면 무한루프가 된다.  
따라서 `if`문으로 탈출 조건을 만들고 `break`문으로 코드 블록을 탈출해야 한다.

```javascript
var count = 0;

while (true) {
  console.log(count);
  count++;

  if (count === 3) break;
}

// 0 1 2
```

#### `do...while`문

코드 블록을 먼저 실행한 후에 조건식을 평가하므로 코드 블록은 무조건 한 번 이상 실행된다.  
`while`문은 조건식을 먼저 평가하고 그 평가 결과가 참이라면 코드 블록을 실행한다는 점에서 `do...while`문과 다르다.

### ✨ 8.4: `break`문

코드 블록을 탈출할 때 사용한다.  
레이블 문(식별자가 붙은 문), 반복문, `switch`문 등의 코드 블록 외에서 `break`문을 사용하면 `SyntaxError`가 발생한다.  
중첩된 `for`문의 내부 `for`문에서 `break`문을 실행하면 한 단계만을 탈출해 외부 `for`문으로 진입한다.  
외부 `for`문까지 탈출하려면 레이블 문을 사용한다.

```javascript
outer: for (var i = 0; i < 3; i++) {
  for (var j = 0; j < 3; j++) {
    if (i + j === 3) break outer;
    console.log(`inner ${i}, ${j}`);
  }
}
```

이렇게 레이블 문은 중첩된 `for`문을 완전히 탈출할 때는 유용하지만 그 외의 경우에는 권장하지 않는다. (가독성이 나빠지고 오류 발생 가능성이 높아지기 때문)

### ✨ 8.5: `continue`문

반복문의 코드 블록 실행을 현 지점에서 중단하고 반복문의 증감식으로 실행 흐름을 이동시킨다. (지금 실행하던 걸 패스하고 다음 단계로 넘어가는 느낌)

```javascript
for (var i = 0; i < string.length; i++) {
  if (string[i] !== search) continue;
  count++;
}

for (var i = 0; i < string.length; i++) {
  if (string[i] === search) count++;
}

// 위 for문 두 개는 동일하게 동작한다.
```

이렇게 `if`문 내에서 실행해야 할 코드가 한 줄이라면 `continue`문을 사용하는 것보다 간편하고 가독성이 좋다.  
하지만 한 줄이 아니고 길다면 `continue`문을 사용하는 것이 더 가독성이 좋을 수 있다.
