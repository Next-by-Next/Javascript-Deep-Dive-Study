# 🗓DAY9 - 타입 변환과 단축 평가

---

## 💭타입 변환이란?

js의 모든 값들은 타입이 있다.
이 값들을 명시적 또는 묵시적으로 변환이 가능하다

명시적 타입 변환 (타입 캐스팅)

- 말그대로 개발자가 의도적으로 타입을 변환하는걸 뜻한다.

```javascript
var x = 10;
var str = x.toString(); // 숫자->문자 타입 캐스팅
```

묵시적 타입 변환 (타입 강제 변환)

- js엔진이 표현식을 평가하는 도중에 암묵적으로 타입이 변환된다

```javascript
var x = 10; //숫자
var str = x + ''; //문자
```

이 타입변환은 기존 값 직접 변경하는 것은 아니라 기존 값을 사용해 다른 타입의 새로운 값을 생성하는 것이다.

암묵적 타입 변환은 기존 변수 값을 `재할당`하여 변경하는 것이 아니다. 표현식을 에러 없이 평가하기 위해 피연산자의 값을 암묵적 타입 변환해 새로운 타입의 값을 만들어 `단 한 번`만 사용하고 버린다.

> 중요 포인트 🔎
> 명시적 타입변환이 무조건적으로 좋은건 아님 암묵적 타입 변환이 가독성이 더 좋을때도 존재

---

## 💭암묵적 타입 변환

js가 표현식을 평가할때 코드의 문맥을 고려해 `암묵적`으로 타입을 변환.

```javascript
'10' + 2; //102
5 * '0'; // 50
```

두 결과가 다른 이유는 `+`은 숫자와 문자를 같이 쓰면 문자열 연결 연산자로 사용되기 때문이다.
5 \* '0'이 에러가 나지 않는 이유는 js는 가급적 `에러를 발생시키지 않도록` 암묵적 타입변환을 통해 하나의 값을 강제로 변환한다.

#### 문자열 타입으로 변환

```javascript
1 + '2'; // 12
```

`+` 산술 연산자가 하나이상이라도 문자열이 있는경우엔 `문자열 연결 연산자`로 동작한다.

#### 숫자 타입으로 변환

```javascript
1 - '1'; // 0
1 * '10'; // 10
1 / 'one'; //NaN
```

+를 제외한 산술연산자는 숫자타입으로로만 써져야한다.
그래서 숫자가아닌 피연산자를 숫자타입으로 변환하는데 `one`은 숫자 타입으로 변환해도 숫자가 아니기 때문에 NaN 이 발생하는것이다.

#### 불리언 타입으로 변환

제어문 또는 삼항 조건 연산자의 조건식은 참과 거짓으로 이루어진 불리언 값이다.js엔진은 조건식의 평과 결과를 무조건 불리언 타입으로 타입변환한다.

Truthy(참으로 타입변환 되는 값)

- Falsy값으로 평가되는 값 말고 나머지

Falsy(거짓으로 타입변환 되는 값)

- false
- undefined
- null
- 0, -0
- NaN
- ''

---

## 💭명시적 타입 변환

1. 표준 빌트인 생성자 함수
2. 빌트인 메서드
3. 암묵적 타입 변환

```javascript
//표준 빌트인 생성자 함수
String()
Number()
Boolean()
---
//빌트인 메서드
().toString()
parseInt()

1+'' //암묵적 타입 변환
```

---

## 💭단축 평가

논리합 (||) - 하나라도 true이면 true 반환

- true가 평가되면 바로 그값을 반환한다.

논리곲 (&&) - 둘다 true일때 true 반환

- 좌항에서 우항으로 평가가 진행되고 true일때 두번째 피연산자가 그대로 반환된다

```javascript
'cat' && 'dog'; // dog
'cat' || 'dog'; //cat
```

이처럼 `타입을 변환하지 않고`그대로 반환하는걸 단축 평가라고 한다.

이 단축평가로 if문을 대체할 수 있다

```javascript
var dome = true;
var message = '';

if (done) message = '완료';

message = done && '완료';
console.log(message); //완료
```

조건이 거짓일때 무언가를 한다면 논리합으로 if문을 대체 가능하다

```javascript
var dome = false;
var message = '';

if (done) message = '미완료';

message = done && '미완료';
console.log(message); //미완료
```

#### 옵셔널 체이닝 연산자

ES11에서 도입되었고 연산자 `?.`은 좌항의 피연산자가 null또는 undefined인 경우 undefined를 반환하고 그렇지 않으면 우항의 프로퍼티 참조를 이어간다.

```javascript
var elem = null;

var value = elem?.value;
console.log(value);
```

#### null 병합 연산자

ES11에서 도입되었고 연산자 `??`은 좌항의 피연산자가 null 또는 undefined인 경우 우항의 피연산자를 반환하고, 그렇지 않으면 좌항의 피연산자를 반환한다.

```javascript
var foo = null ?? 'default string';

console.log(foo); //'default string'
```

---
