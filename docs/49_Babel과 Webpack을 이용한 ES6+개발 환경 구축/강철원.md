## ğŸ“• ì˜¤ëŠ˜ ê³µë¶€í•œ ë‚´ìš©, ì´ë ‡ê²Œ ì •ë¦¬í•´ ë´…ì‹œë‹¤. âœ’

**TIL(Today I learn) ê¸°ë¡ì¼** : 2023. 03. 29

# 49 Babelê³¼ Webpackì„ ì´ìš©í•œ ES6+/ES.NEXT ê°œë°œ í™˜ê²½ êµ¬ì¶•


## 1. Babel
Babelì„ ì‚¬ìš©í•˜ë ¤ë©´ @babel/preset-envë¥¼ ì„¤ì¹˜í•´ì•¼ í•œë‹¤.    
@babel/preset-envëŠ” í•¨ê»˜ ì‚¬ìš©ë˜ì–´ì•¼ í•˜ëŠ” Babel í”ŒëŸ¬ê·¸ì¸ì„ ëª¨ì•„ ë‘” ê²ƒìœ¼ë¡œ Babel í”„ë¦¬ì…‹ì´ë¼ê³  ë¶€ë¥¸ë‹¤. Babelì´ ì œê³µí•˜ëŠ” ê³µì‹ Babel í”„ë¦¬ì…‹ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.    
- @babel/preset-env
- @babel/preset-flow
- @babel/preset-react
- @babel/preset-typescript


@babel/preset-envëŠ” í•„ìš”í•œ í”ŒëŸ¬ê·¸ì¸ë“¤ì„ í”„ë¡œì íŠ¸ ì§€ì› í™˜ê²½ì— ë§ì¶° ë™ì ìœ¼ë¡œ ê²°ì •í•´ì¤€ë‹¤.   
í”„ë¡œì íŠ¸ì§€ì› í™˜ê²½ì€ Browserslist í˜•ì‹ìœ¼ë¡œ .browserslistrc íŒŒì¼ì— ìƒì„¸íˆ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.   
ë§Œì•½ í”„ë¡œì íŠ¸ ì§€ì›í™˜ê²½ ì„¤ì • ì‘ì—…ì„ ìƒëµí•˜ë©´ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •ëœë‹¤.   
    
>ê¸°ë³¸ì„¤ì •   
```js
$ npm install --save-dev @babel/preset-env
```
```js
{
  "name": "esnext-project",
  "version": "1.0.0",
  "devDependencies": {
    "@babel/cli": "^7.10.3",
    "@babel/core": "^7.10.3",
    "@babel/preset-env": "^7.10.3"
  }
}
```

ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´ í”„ë¡œì íŠ¸ ë£¨íŠ¸ í´í„°ì— babel.config.json ì„¤ì • íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•œë‹¤.    
ì§€ê¸ˆ ì„¤ì¹˜í•œ @babel/preset-envë¥¼ ì‚¬ìš©í•˜ê² ë‹¤ëŠ” ì˜ë¯¸ë‹¤.   
```js
{
  "presets": ["@babel/preset-env"]
}
```

## 3) íŠ¸ëœìŠ¤íŒŒì¼ë§
Babelì„ ì‚¬ìš©í•˜ì—¬ ES6+/ES.NEXT ì‚¬ì–‘ì˜ ì†ŒìŠ¤ì½”ë“œë¥¼ ES5 ì‚¬ì–‘ì˜ ì†ŒìŠ¤ì½”ë“œë¡œ íŠ¸ëœìŠ¤íŒŒì¼ë§ í•´ë³´ì.    
íŠ¸ëœìŠ¤íŒŒì¼ë§í•  ë•Œë§ˆë‹¤ ë§¤ë²ˆ Babel CLI ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ëŠ” ê²ƒì€ ë²ˆê±°ë¡œìš°ë¯€ë¡œ npm scripts ì— Babel CLI ëª…ë ¹ì–´ë¥¼ ë“±ë¡í•˜ì—¬ ì‚¬ìš©í•˜ì.   
    
>package.json íŒŒì¼ì— scriptë¥¼ ì¶”ê°€í•œë‹¤.    
```js
{
  "name": "esnext-project",
  "version": "1.0.0",
  "scripts": {
    "build": "babel src/js -w -d dist/js"
  },
  "devDependencies": {
    "@babel/cli": "^7.10.3",
    "@babel/core": "^7.10.3",
    "@babel/preset-env": "^7.10.3"
  }
}
```
ìœ„ npm scriptsì˜ buildëŠ” src/js í´ë”(íƒ€ê¹ƒ í´ë”)ì— ìˆëŠ” ëª¨ë“  ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ë“¤ì„ íŠ¸ëœìŠ¤íŒŒì¼ë§í•œ í›„, ê·¸ ê²°ê³¼ë¬¼ì„ dist/js í´ë”ì— ì €ì¥í•œë‹¤.   
ì‚¬ìš©í•œ ì˜µì…˜ì˜ ì˜ë¯¸ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.   
-w : íƒ€ê¹ƒ í´ë”ì— ìˆëŠ” ëª¨ë“  ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ë“¤ì˜ ë³€ê²½ì„ ê°ì§€í•˜ì—¬ ìë™ìœ¼ë¡œ íŠ¸ëœìŠ¤íŒŒì¼í•œë‹¤. (--watch ì˜µì…˜ì˜ ì¶•ì•½í˜•)   
-d : íŠ¸ëœìŠ¤íŒŒì¼ë§ëœ ê²°ê³¼ë¬¼ì´ ì €ì¥ë  í´ë”ë¥¼ ì§€ì •í•œë‹¤. ë§Œì•½ ì§€ì •ëœ í´ë”ê°€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ìë™ ìƒì„±í•œë‹¤. (--out-dir ì˜µì…˜ì˜ ì¶•ì•½í˜•)   
   
>íŠ¸ëœìŠ¤íŒŒì¼ë§ì„ í…ŒìŠ¤íŠ¸í•´ë³´ì
```js
// src/js/lib.js
export const pi = Math.PI; // ES6 ëª¨ë“ˆ

export function power(x, y) {
  return x ** y; // ES7: ì§€ìˆ˜ ì—°ì‚°ì
}

// ES6 í´ë˜ìŠ¤
export class Foo {
  #private = 10; // stage 3: í´ë˜ìŠ¤ í•„ë“œ ì •ì˜ ì œì•ˆ

  foo() {
    // stage 4: ê°ì²´ Rest/Spread í”„ë¡œí¼í‹° ì œì•ˆ
    const { a, b, ...x } = { ...{ a: 1, b: 2 }, c: 3, d: 4 };
    return { a, b, x };
  }

  bar() {
    return this.#private;
  }
}
```
```js
// src/js/main.js
import { pi, power, Foo } from './lib';

console.log(pi);
console.log(power(pi, pi));

const f = new Foo();
console.log(f.foo());
console.log(f.bar());
```
