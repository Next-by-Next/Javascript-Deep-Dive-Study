## ğŸ“” 34ì¥: ì´í„°ëŸ¬ë¸”

### ğŸ“ 34.1: ì´í„°ë ˆì´ì…˜ í”„ë¡œí† ì½œ

ES6ì—ì„œ ë„ì…ëœ ì´í„°ë ˆì´ì…˜ í”„ë¡œí† ì½œì€ ìˆœíšŒ ê°€ëŠ¥í•œ ìë£Œêµ¬ì¡°ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ECMAScript ì‚¬ì–‘ì— ì •ì˜í•˜ì—¬ ë¯¸ë¦¬ ì•½ì†í•œ ê·œì¹™ì´ë‹¤.  
ES6 ì „ì— ìˆœíšŒ ê°€ëŠ¥í•œ ë°ì´í„° ì»¬ë ‰ì…˜, ì¦‰ ë°°ì—´, ë¬¸ìì—´, ìœ ì‚¬ ë°°ì—´ ê°ì²´, DOM ì»¬ë ‰ì…˜ ë“±ì€ í†µì¼ëœ ê·œì•½ ì—†ì´ ê°ì ë‚˜ë¦„ì˜ êµ¬ì¡°ë¥¼ ê°€ì§€ê³  `for`ë¬¸, `for ... in`ë¬¸, `forEach` ë©”ì„œë“œ ë“± ë‹¤ì–‘í•œ ë°©ë²•ìœ¼ë¡œ ìˆœíšŒí•  ìˆ˜ ìˆì—ˆë‹¤.  
ES6ì—ì„œëŠ” ì´ëŸ° ìˆœíšŒ ê°€ëŠ¥í•œ ë°ì´í„° ì»¬ë ‰ì…˜ì„ ì´í„°ë ˆì´ì…˜ í”„ë¡œí† ì½œì„ ì¤€ìˆ˜í•˜ëŠ” ì´í„°ëŸ¬ë¸”ë¡œ í†µì¼í•´ `for ... of` ë¬¸, ìŠ¤í”„ë ˆë“œ ë¬¸ë²•, ë°°ì—´ ë””ìŠ¤íŠ¸ëŸ­ì²˜ë§ í• ë‹¹ì˜ ëŒ€ìƒìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì¼ì›í™”í–ˆë‹¤.

ì´í„°ë ˆì´ì…˜ í”„ë¡œí† ì½œì—ëŠ” ì´í„°ëŸ¬ë¸” í”„ë¡œí† ì½œê³¼ ì´í„°ë ˆì´í„° í”„ë¡œí† ì½œì´ ìˆë‹¤.

- **ì´í„°ëŸ¬ë¸” í”„ë¡œí† ì½œ**: Well-known Symbolì¸ `Symbol.iterator`ë¥¼ í”„ë¡œí¼í‹° í‚¤ë¡œ ì‚¬ìš©í•œ ë©”ì„œë“œë¥¼ ì§ì ‘ êµ¬í˜„í•˜ê±°ë‚˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ì„ í†µí•´ ìƒì†ë°›ì€ `Symbol.iterator` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì´í„°ë ˆì´í„° í”„ë¡œí† ì½œì„ ì¤€ìˆ˜í•œ ì´í„°ë ˆì´í„°ë¥¼ ë°˜í™˜í•œë‹¤. ì´ëŸ¬í•œ ê·œì•½ì„ ì´í„°ëŸ¬ë¸” í”„ë¡œí† ì½œì´ë¼ í•˜ë©°, ì´í„°ëŸ¬ë¸” í”„ë¡œí† ì½œì„ ì¤€ìˆ˜í•œ ê°ì²´ë¥¼ ì´í„°ëŸ¬ë¸”ì´ë¼ í•œë‹¤. ì´í„°ëŸ¬ë¸”ì€ `for ... of` ë¬¸ìœ¼ë¡œ ìˆœíšŒí•  ìˆ˜ ìˆìœ¼ë©° ìŠ¤í”„ë ˆë“œ ë¬¸ë²•ê³¼ ë°°ì—´ ë””ìŠ¤íŠ¸ëŸ­ì²˜ë§ í• ë‹¹ì˜ ëŒ€ìƒìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- **ì´í„°ë ˆì´í„° í”„ë¡œí† ì½œ**: ì´í„°ëŸ¬ë¸”ì˜ `Symbol.iterator` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì´í„°ë ˆì´í„° í”„ë¡œí† ì½œì„ ì¤€ìˆ˜í•œ ì´í„°ë ˆì´í„°ë¥¼ ë°˜í™˜í•œë‹¤. ì´í„°ë ˆì´í„°ëŠ” `next` ë©”ì„œë“œë¥¼ ì†Œìœ í•˜ë©° `next` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì´í„°ëŸ¬ë¸”ì„ ìˆœíšŒí•˜ë©° `value`ì™€ `done` í”„ë¡œí¼í‹°ë¥¼ ê°–ëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤. ì´ëŸ¬í•œ ê·œì•½ì„ ì´í„°ë ˆì´í„° í”„ë¡œí† ì½œì´ë¼ í•˜ë©°, ì´í„°ë ˆì´í„° í”„ë¡œí† ì½œì„ ì¤€ìˆ˜í•œ ê°ì²´ë¥¼ ì´í„°ë ˆì´í„°ë¼ í•œë‹¤. ì´í„°ë ˆì´í„°ëŠ” ì´í„°ëŸ¬ë¸”ì˜ ìš”ì†Œë¥¼ íƒìƒ‰í•˜ê¸° ìœ„í•œ í¬ì¸í„° ì—­í• ì„ í•œë‹¤.

#### ì´í„°ëŸ¬ë¸”

ì´í„°ëŸ¬ë¸” í”„ë¡œí† ì½œì„ ì¤€ìˆ˜í•œ ê°ì²´ë¥¼ ì´í„°ëŸ¬ë¸”ì´ë¼ í•œë‹¤.  
ì¦‰, ì´í„°ëŸ¬ë¸”ì€ `Symbol.iterator`ë¥¼ í”„ë¡œí¼í‹° í‚¤ë¡œ ì‚¬ìš©í•œ ë©”ì„œë“œë¥¼ ì§ì ‘ êµ¬í˜„í•˜ê±°ë‚˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ì„ í†µí•´ ìƒì†ë°›ì€ ê°ì²´ë¥¼ ë§í•œë‹¤.  
ì´í„°ëŸ¬ë¸”ì¸ì§€ í™•ì¸í•˜ëŠ” í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

```javascript
const isIterable = (v) => v !== null && typeof v[Symbol.iterator] === 'function';

// ë°°ì—´, ë¬¸ìì—´, Map, Set ë“±ì€ ì´í„°ëŸ¬ë¸”
isIterable([]); // true
isIterable(''); // true
isIterable(new Map()); // true
isIterable(new Set()); // true
isIterable({}); // false
```

ì˜ˆë¥¼ ë“¤ì–´, ë°°ì—´ì€ `Array.prototype`ì˜ `Symbol.iterator` ë©”ì„œë“œë¥¼ ìƒì†ë°›ëŠ” ì´í„°ëŸ¬ë¸”ì´ë‹¤.  
ì´í„°ëŸ¬ë¸”ì€ `for ... of` ë¬¸ìœ¼ë¡œ ìˆœíšŒí•  ìˆ˜ ìˆìœ¼ë©°, ìŠ¤í”„ë ˆë“œ ë¬¸ë²•ê³¼ ë°°ì—´ ë””ìŠ¤íŠ¸ëŸ­ì²˜ë§ í• ë‹¹ì˜ ëŒ€ìƒìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```javascript
const array = [1, 2, 3];

console.log(Symbol.iterator in array); // true

for (const item of array) {
  console.log(item);
}

console.log([...array]); // [1, 2, 3]

const [a, ...rest] = array;
console.log(a, rest); // 1, [2, 3]
```

`Symbol.iterator` ë©”ì„œë“œë¥¼ ì§ì ‘ êµ¬í˜„í•˜ì§€ ì•Šê±°ë‚˜ ìƒì†ë°›ì§€ ì•Šì€ ì¼ë°˜ ê°ì²´ëŠ” ì´í„°ëŸ¬ë¸” í”„ë¡œí† ì½œì„ ì¤€ìˆ˜í•œ ì´í„°ëŸ¬ë¸”ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— `for ... of` ë¬¸ìœ¼ë¡œ ìˆœíšŒê°€ ë¶ˆê°€ëŠ¥í•˜ë©° ìŠ¤í”„ë ˆë“œ ë¬¸ë²•, ë°°ì—´ ë””ìŠ¤íŠ¸ëŸ­ì²˜ë§ í• ë‹¹ì˜ ëŒ€ìƒìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.  
í•˜ì§€ë§Œ ì¼ë°˜ ê°ì²´ë„ ì´í„°ëŸ¬ë¸” í”„ë¡œí† ì½œì„ ì¤€ìˆ˜í•˜ë„ë¡ êµ¬í˜„í•˜ë©´ ì´í„°ëŸ¬ë¸”ì´ ëœë‹¤.

#### ì´í„°ë ˆì´í„°

ì´í„°ëŸ¬ë¸”ì˜ `Symbol.iterator` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì´í„°ë ˆì´í„° í”„ë¡œí† ì½œì„ ì¤€ìˆ˜í•œ ì´í„°ë ˆì´í„°ë¥¼ ë°˜í™˜í•œë‹¤.  
ì´í„°ëŸ¬ë¸”ì˜ `Symbol.iterator` ë©”ì„œë“œê°€ ë°˜í™˜í•œ ì´í„°ë ˆì´í„°ëŠ” `next` ë©”ì„œë“œë¥¼ ê°–ëŠ”ë‹¤.

```javascript
const array = [1, 2, 3];

const iterator = array[Symbol.iterator]();

console.log('next' in iterator); // true
```

`next` ë©”ì„œë“œëŠ” ì´í„°ëŸ¬ë¸”ì˜ ê° ìš”ì†Œë¥¼ ìˆœíšŒí•˜ê¸° ìœ„í•œ í¬ì¸í„°ì˜ ì—­í• ì„ í•˜ë©°, ìˆœíšŒ ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.

```javascript
const array = [1, 2, 3];

const iterator = array[Symbol.iterator]();

console.log(iterator.next()); // { value: 1, done: false }
console.log(iterator.next()); // { value: 2, done: false }
console.log(iterator.next()); // { value: 3, done: false }
console.log(iterator.next()); // { value: undefined, done: true }
```

### ğŸ“ 34.2: ë¹ŒíŠ¸ì¸ ì´í„°ëŸ¬ë¸”

ë‹¤ìŒì˜ í‘œì¤€ ë¹ŒíŠ¸ì¸ ê°ì²´ë“¤ì€ ë¹ŒíŠ¸ì¸ ì´í„°ëŸ¬ë¸”ì´ë‹¤.

| ë¹ŒíŠ¸ì¸ ì´í„°ëŸ¬ë¸” | `Symbol.iterator` ë©”ì„œë“œ                                                           |
| --------------- | ---------------------------------------------------------------------------------- |
| `Array`         | `Array.prototype[Symbol.iterator]`                                                 |
| `String`        | `String.prototype[Symbol.iterator]`                                                |
| `Map`           | `Map.prototype[Symbol.iterator]`                                                   |
| `Set`           | `Set.prototype[Symbol.iterator]`                                                   |
| `TypedArray`    | `TypedArray.prototype[Symbol.iterator]`                                            |
| `arguments`     | `arguments[Symbol.iterator]`                                                       |
| DOM ì»¬ë ‰ì…˜      | `NodeList.prototype[Symbol.iterator]`, `HTMLCollection.prototype[Symbol.iterator]` |

### ğŸ“ 34.3: `for ... of` ë¬¸

`for ... in` ë¬¸ì€ ê°ì²´ì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ ìƒì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  í”„ë¡œí† íƒ€ì…ì˜ í”„ë¡œí¼í‹° ì¤‘ì—ì„œ í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ `[[Enumerable]]`ì˜ ê°’ì´ `true`ì¸ í”„ë¡œí¼í‹°ë¥¼ ìˆœíšŒí•˜ë©° ì—´ê±°í•˜ë©°, í”„ë¡œí¼í‹° í‚¤ê°€ ì‹¬ë²Œì¸ í”„ë¡œí¼í‹°ëŠ” ì—´ê±°í•˜ì§€ ì•ŠëŠ”ë‹¤.  
`for ... of` ë¬¸ì€ ë‚´ë¶€ì ìœ¼ë¡œ ì´í„°ë ˆì´í„°ì˜ `next` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ ì´í„°ëŸ¬ë¸”ì„ ìˆœíšŒí•˜ë©° `next` ë©”ì„œë“œê°€ ë°˜í™˜í•œ ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ì˜ `value` í”„ë¡œí¼í‹° ê°’ì„ `for ... of` ë¬¸ì˜ ë³€ìˆ˜ì— í• ë‹¹í•œë‹¤.  
ê·¸ë¦¬ê³  ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ì˜ `done` í”„ë¡œí¼í‹° ê°’ì´ `false`ì´ë©´ ì´í„°ëŸ¬ë¸”ì˜ ìˆœíšŒë¥¼ ê³„ì†í•˜ê³  `true`ì´ë©´ ì¤‘ë‹¨í•œë‹¤.

```javascript
for (const item of [1, 2, 3]) {
  console.log(item); // 1 2 3
}
```

```javascript
const iterable = [1, 2, 3];

const iterator = iterable[Symbol.iterator]();

for (;;) {
  const res = iterator.next();

  if (res.done) break;

  const item = res.value;
  console.log(item); // 1 2 3
}
```
