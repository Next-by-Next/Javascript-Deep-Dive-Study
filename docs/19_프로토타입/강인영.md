# 19. í”„ë¡œí† íƒ€ì…
## 19.1 ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°

> **ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°**: í”„ë¡œê·¸ë˜ë°ì„ ëª…ë ¹ì–´ ë˜ëŠ” í•¨ìˆ˜ì˜ ëª©ë¡ìœ¼ë¡œ ë³´ëŠ” ì „í†µì ì¸ ëª…ë ¹í˜• í”„ë¡œê·¸ë˜ë°ì—ì„œ ë²—ì–´ë‚˜Â `ì—¬ëŸ¬ ê°œì˜ ë…ë¦½ì  ë‹¨ìœ„, ì¦‰ **ê°ì²´ì˜ ì§‘í•©**ìœ¼ë¡œ í”„ë¡œê·¸ë¨ì„ í‘œí˜„í•˜ë ¤ëŠ” í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„`
> 
- JavaScriptëŠ” **í´ë˜ìŠ¤ ê¸°ë°˜ ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë° ì–¸ì–´**ë³´ë‹¤ íš¨ìœ¨ì ì´ë©° ë” ê°•ë ¥í•œ, ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë° ëŠ¥ë ¥ì„ ì§€ë‹ˆê³  ìˆëŠ” **prototype ê¸°ë°˜ì˜ ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°** ì–¸ì–´ì„.
- `**ì†ì„±**`: ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë ˆë°ì€ ì‹¤ì„¸ê³„ì˜ ì‹¤ì²´ë¥¼ í”„ë¡œê·¸ë˜ë°ì— ì ‘ëª©í•˜ë ¤ê³  í•˜ëŠ” ê²ƒì¸ë°, ì‹¤ì²´ëŠ” **íŠ¹ì§•ì´ë‚˜ ì„±ì§ˆì„ ë‚˜íƒ€ë‚´ëŠ” ì†ì„±**ì„ ì§€ë‹˜.
- `**ì¶”ìƒí™”**`: ì†ì„±ì„ í†µí•´ ìš°ë¦¬ëŠ” **ì‹¤ì²´ë¥¼ êµ¬ë³„í•  ìˆ˜ ìˆë‹¤**. ì´ë ‡ê²Œ ë‹¤ì–‘í•œ ì†ì„± ì¤‘ì—ì„œ **í”„ë¡œê·¸ë¨ì— í•„ìš”í•œ ì†ì„±ë§Œ ê°„ì¶”ë ¤** ë‚´ì–´ í‘œí˜„í•˜ëŠ” ê²ƒì´ ì¶”ìƒí™”ì„.

```jsx
// ì´ë¦„ê³¼ ì£¼ì†Œ ì†ì„±ì„ ê°–ëŠ” ê°ì²´
const person = {
  name: 'Lee',
  address: 'Seoul'
};

console.log(person); // {name: "Lee", address: "Seoul"}
```

```jsx
const circle = {
  radius: 5, // ë°˜ì§€ë¦„

  // ì›ì˜ ì§€ë¦„: 2r
  getDiameter() {
    return 2 * this.radius;
  },

  // ì›ì˜ ë‘˜ë ˆ: 2Ï€r
  getPerimeter() {
    return 2 * Math.PI * this.radius;
  },

  // ì›ì˜ ë„“ì´: Ï€rr
  getArea() {
    return Math.PI * this.radius ** 2;
  }
};

console.log(circle);
// {radius: 5, getDiameter: Æ’, getPerimeter: Æ’, getArea: Æ’}

console.log(circle.getDiameter());  // 10
console.log(circle.getPerimeter()); // 31.41592653589793
console.log(circle.getArea());      // 78.53981633974483
```

## 19.2 ìƒì†ê³¼ í”„ë¡œí† íƒ€ì…

> **`ìƒì†`**: ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì˜ í•µì‹¬ ê°œë…. **ì–´ë–¤ ê°ì²´ì˜ property ë˜ëŠ” ë©”ì„œë“œ**ë¥¼ ë‹¤ë¥¸ ê°ì²´ê°€ ìƒì†ë°›ì•„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒ. JavaScriptëŠ” prototypeì„ ê¸°ë°˜ìœ¼ë¡œ ìƒì†ì„ êµ¬í˜„í•˜ì—¬ **ë¶ˆí•„ìš”í•œ ì¤‘ë³µì„ ì œê±°**í•¨.
> 

```jsx
// ìƒì„±ì í•¨ìˆ˜
function Circle(radius) {
  this.radius = radius;
}

// Circle ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•œ ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ê°€ getArea ë©”ì„œë“œë¥¼
// ê³µìœ í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í”„ë¡œí† íƒ€ì…ì— ì¶”ê°€í•œë‹¤.
// í”„ë¡œí† íƒ€ì…ì€ Circle ìƒì„±ì í•¨ìˆ˜ì˜ prototype í”„ë¡œí¼í‹°ì— ë°”ì¸ë”©ë˜ì–´ ìˆë‹¤.
Circle.prototype.getArea = function () {
  return Math.PI * this.radius ** 2;
};

// ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
const circle1 = new Circle(1);
const circle2 = new Circle(2);

// Circle ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•œ ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ëŠ” ë¶€ëª¨ ê°ì²´ì˜ ì—­í• ì„ í•˜ëŠ”
// í”„ë¡œí† íƒ€ì… Circle.prototypeìœ¼ë¡œë¶€í„° getArea ë©”ì„œë“œë¥¼ ìƒì†ë°›ëŠ”ë‹¤.
// ì¦‰, Circle ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•˜ëŠ” ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ëŠ” "í•˜ë‚˜ì˜ getArea ë©”ì„œë“œ"ë¥¼ ê³µìœ í•œë‹¤.
console.log(circle1.getArea === circle2.getArea); // true

console.log(circle1.getArea()); // 3.141592653589793
console.log(circle2.getArea()); // 12.566370614359172
```

- ìƒì†ì€ **ì½”ë“œì˜ ì¬ì‚¬ìš©** ì¸¡ë©´ì—ì„œ ë§¤ìš° ìœ ìš©í•¨!!

## 19.3 í”„ë¡œí† íƒ€ì… ê°ì²´

> **`í”„ë¡œí† íƒ€ì…`**: ì–´ë–¤ ê°ì²´ì˜ ìƒìœ„(ë¶€ëª¨) ê°ì²´ì˜ ì—­í• ì„ í•˜ëŠ” ê°ì²´ë¡œì„œ ë‹¤ë¥¸ ê°ì²´ì— ê³µìœ  property(ë©”ì„œë“œ í¬í•¨)ë¥¼ ì œê³µí•¨. prototypeì„ ìƒì†ë°›ì€ í•˜ìœ„(ìì‹) ê°ì²´ëŠ” ìƒìœ„ ê°ì²´ì˜ propertyë¥¼ ìì‹ ì´ propertyì²˜ëŸ¼ ììœ ë¡­ê²Œ ì‚¬ìš© ê°€ëŠ¥í•¨.
> 

> ëª¨ë“  ê°ì²´ëŠ” **[[Prototype]]**ì´ë¼ëŠ” ë‚´ë¶€ ìŠ¬ë¡¯ì„ ê°€ì§€ë©°, ì—¬ê¸°ì— ì €ì¥ë˜ëŠ” prototypeì€ ê°ì²´ ìƒì„± ë°©ì‹ì— ì˜í•´ ê²°ì •ëœë‹¤. ì¦‰, ê°ì²´ê°€ ìƒì„±ë  ë•Œ ê°ì²´ ìƒì„± ë°©ì‹ì— ë”°ë¼ prototypeì´ ê²°ì •ë˜ê³  **[[Prototype]]**ì— ì €ì¥ë¨.
> 
- ì˜ˆë¥¼ ë“¤ì–´, ê°ì²´ ë¦¬í„°ëŸ´ì— ì˜í•´ ìƒì„±ëœ ê°ì²´ì˜ prototypeì€ **Object.prototype**ì´ê³ , ìƒì„±ì í•¨ìˆ˜ì— ì˜í•´ ìƒì„±ëœ ê°ì²´ì˜ prototypeì€ **ìƒì„±ì í•¨ìˆ˜ì˜ prototype í”„ë¡œí¼í‹°**ì— ë°”ì¸ë”©ë˜ì–´ ìˆëŠ” ê°ì²´ì„.
- **[[Prototype]]** ë‚´ë¶€ ìŠ¬ë¡¯ì—ëŠ” ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ì§€ë§Œ,Â `__proto__`ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¥¼ í†µí•´ ìì‹ ì˜ prototype, ì¦‰ ìì‹ ì˜ **[[Prototype]]** ë‚´ë¶€ ìŠ¬ë¡¯ì´ ê°€ë¦¬í‚¤ëŠ” prototypeì— ê°„ì ‘ì ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•¨. ê·¸ë¦¬ê³  prototypeì€ ìì‹ ì˜ **constructor í”„ë¡œí¼í‹°**ë¥¼ í†µí•´ ìƒì„±ì í•¨ìˆ˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆê³ , ìƒì„±ì í•¨ìˆ˜ëŠ” ìì‹ ì˜ prototype í”„ë¡œí¼í‹°ë¥¼ í†µí•´ prototypeì— ì ‘ê·¼ ê°€ëŠ¥í•¨.

### 19.3.1 __proto__ ì ‘ê·¼ì property

> ëª¨ë“  ê°ì²´ëŠ”Â `__proto__`ì ‘ê·¼ì propertyë¥¼ í†µí•´ ìì‹ ì˜ prototype, ì¦‰ **[[Prototype]]** ë‚´ë¶€ ìŠ¬ë¡¯ì— ê°„ì ‘ì ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•¨.
> 

- `__ proto __` ì— ëŒ€í•œ 4ê°€ì§€ íŠ¹ì§•
    1. **ì ‘ê·¼ì property**ì„ - ì§ì ‘ **[[Prototype]]**ì— ì ‘ê·¼í•  ìˆ˜ ì—†ê³ , ì´ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì—­í• ì„ í•´ì¤Œ.
    2. **ìƒì†**ì„ í†µí•´ ì‚¬ìš©ë¨ - ê°ì²´ê°€ ì§ì ‘ ì†Œìœ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, **Object.prototype**ì˜ propertyì„. ëª¨ë“  ê°ì²´ëŠ” ìƒì†ì„ í†µí•´ **Object.prototype.__proto__** ì ‘ê·¼ì propertyë¥¼ ì‚¬ìš© ê°€ëŠ¥í•¨.
    3. `__ proto __` ë¡œ prototypeì— ì ‘ê·¼í•˜ëŠ” ì´ìœ ? - ìƒí˜¸ ì°¸ì¡°ì— ì˜í•´ prototype ì²´ì¸ì´ ìƒì„±ë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•¨. ë¬´ì¡°ê±´ ë‹¨ë°©í–¥ linked listë¡œ êµ¬í˜„ë˜ì–´ì•¼ í•˜ëŠ”ë°, ìˆœí™˜ ì°¸ì¡°í•˜ëŠ” prototype ì²´ì¸ì´ ë§Œë“¤ì–´ì§€ë©´ prototype ì²´ì¸ ì¢…ì ì´ ì¡´ì¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— property ê²€ìƒ‰ ì‹œì— ë¬´í•œ ë£¨í”„ì— ë¹ ì§€ê¸° ë•Œë¬¸.
    4. `__ proto __` ì ‘ê·¼ì í”„ë¡œí¼í‹°ì˜ ì½”ë“œ ë‚´ì—ì„œ ì§ì ‘ ì‚¬ìš©ì€ ì§€ì–‘í•  ê²ƒ - ëª¨ë“  ê°ì²´ê°€ ì´ ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì€ ì•„ë‹ˆê¸° ë•Œë¬¸ì—, prototypeì˜ ì°¸ì¡°ë¥¼ ì·¨ë“í•˜ê³  ì‹¶ë‹¤ë©´ **Object.getPrototypeOf** ë©”ì„œë“œë¥¼ ì‚¬ìš©í•¨.
    
    ```jsx
    const obj = {};
    const parent = {x:1};
    
    //obj ê°ì²´ì˜ í”„ë¡œí† íƒ€ì…ì„ ì·¨ë“
    Object.getPrototypeOf(obj); // obj.__proto__;
    //obj ê°ì²´ì˜ í”„ë¡œí† íƒ€ì…ì„ êµì²´
    Object.setPrototypeOf(obj, parent); //obj.__proto__ = parent;
    ```
    

### 19.3.2 í•¨ìˆ˜ ê°ì²´ì˜ prototype property

> í•¨ìˆ˜ ê°ì²´ë§Œì´ ì†Œìœ í•˜ëŠ” **prototype property**ëŠ” **ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ì˜ prototype**ì„ ê°€ë¦¬í‚´.
> 

> ëª¨ë“  ê°ì²´ê°€ ê°€ì§€ê³  ìˆëŠ”Â `__proto__`ì ‘ê·¼ì propertyì™€ í•¨ìˆ˜ ê°ì²´ë§Œì´ ì§€ë‹Œ`prototype property`ëŠ” ê²°êµ­ ë™ì¼í•œ prototype ì„ ê°€ë¦¬í‚¨ë‹¤. í•˜ì§€ë§Œ ì´ë¥¼ ì‚¬ìš©í•˜ëŠ” ì£¼ì²´ê°€ ë‹¤ë¦„. prototype propertyì˜ ì‚¬ìš© ì£¼ì²´ëŠ” ìƒì„±ì í•¨ìˆ˜ì„.
> 

### 19.3.3 prototypeì˜ constructor propertyì™€ ìƒì„±ì í•¨ìˆ˜

> ëª¨ë“  prototypeì€ **constructor property** ë¥¼ ê°–ëŠ”ë‹¤. ì´ constructor í”„ë¡œí¼í‹°ëŠ” prototype propertyë¡œ ìì‹ ì„ ì°¸ì¡°í•˜ê³  ìˆëŠ” **ìƒì„±ì í•¨ìˆ˜**ë¥¼ ê°€ë¦¬í‚¨ë‹¤. 
ì´ ì—°ê²°ì€ ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±ë  ë•Œ, ì¦‰ í•¨ìˆ˜ ê°ì²´ê°€ ìƒì„±ë  ë•Œ ì´ë¤„ì§„ë‹¤.
> 

```jsx
// ìƒì„±ì í•¨ìˆ˜
function Person(name){
  this.name = name;
}

const me = new Person('Lee');
// me ê°ì²´ì˜ ìƒì„±ì í•¨ìˆ˜ëŠ” Personì´ë‹¤.
console.log(me.constructor === Person); //true
```

- ìœ„ ì½”ë“œì—ì„œ Person ìƒì„±ì í•¨ìˆ˜ëŠ” me ê°ì²´ë¥¼ ìƒì„±í•¨. ì´ë•Œ **me ê°ì²´**ëŠ” prototypeì˜ constructor propertyë¥¼ í†µí•´ **ìƒì„±ì í•¨ìˆ˜**ì™€ ì—°ê²°ë¨. me ê°ì²´ì—ëŠ” constructor propertyê°€ ì—†ì§€ë§Œ me ê°ì²´ì˜ prototypeì¸ Person.prototypeì—ëŠ” constructor propertyê°€ ìˆë‹¤. ë”°ë¼ì„œ me ê°ì²´ëŠ” prototypeì¸ Person.prototypeì˜ constructor í”„ë¡œí¼í‹°ë¥¼ ìƒì†ë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

## 19.4 **ë¦¬í„°ëŸ´ í‘œê¸°ë²•ì— ì˜í•´ ìƒì„±ëœ ê°ì²´ì˜ ìƒì„±ì í•¨ìˆ˜ì™€ prototype**

- `new`ì—°ì‚°ìì™€ í•¨ê»˜ ìƒì„±ì í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³ Â **ë¦¬í„°ëŸ´ í‘œê¸°ë²•ì— ì˜í•œ ê°ì²´ ìƒì„± ë°©ì‹**ì´ ìˆë‹¤.
- ë¦¬í„°ëŸ´ë¡œ ìƒì„±í•˜ëŠ” ë°©ì‹

```jsx
// ê°ì²´ ë¦¬í„°ëŸ´
const obj = {};

// í•¨ìˆ˜ ë¦¬í„°ëŸ´
const add = function (a, b) { return a + b; };

// ë°°ì—´ ë¦¬í„°ëŸ´
const arr = [1, 2, 3];

// ì •ê·œí‘œí˜„ì‹ ë¦¬í„°ëŸ´
const regexp = /is/ig;
```

> ë¦¬í„°ëŸ´ í‘œê¸°ë²•ì— ì˜í•´ ìƒì„±ëœ ê°ì²´ì˜ ê²½ìš°, prototypeì˜ constructor propertyê°€ ê°€ë¦¬í‚¤ëŠ” ìƒì„±ì í•¨ìˆ˜ê°€ ë°˜ë“œì‹œ **ê°ì²´ë¥¼ ìƒì„±í•œ ìƒì„±ì í•¨ìˆ˜**ë¼ê³  ë‹¨ì •í•  ìˆ˜ ì—†ë‹¤.
> 

```jsx
// obj ê°ì²´ëŠ” Object ìƒì„±ì í•¨ìˆ˜ë¡œ ìƒì„±í•œ ê°ì²´ê°€ ì•„ë‹ˆë¼ 
// ê°ì²´ ë¦¬í„°ëŸ´ë¡œ ìƒì„±í•¨.
const obj = {};

// í•˜ì§€ë§Œ obj ê°ì²´ì˜ ìƒì„±ì í•¨ìˆ˜ëŠ” Object ìƒì„±ì í•¨ìˆ˜ë‹¤.
console.log(obj.constructor === Object); //true
```

- ìœ„ ì˜ˆì‹œ ì½”ë“œì˜ ê²½ìš° ê°ì²´ ë¦¬í„°ëŸ´ë¡œ ìƒì„±í•œ ê°ì²´ì˜Â `constructor property`ëŠ”Â `Object`ìƒì„±ì í•¨ìˆ˜ì™€ ì—°ê²°ë¨.

```jsx
// 1. new.targetì´ undefinedë‚˜ Objectê°€ ì•„ë‹Œ ê²½ìš°
// ì¸ìŠ¤í„´ìŠ¤ -> Foo.prototype -> Object.prototype ìˆœìœ¼ë¡œ 
// í”„ë¡œí† íƒ€ì… ì²´ì¸ì´ ìƒì„±ëœë‹¤.
class Foo extends Object {}
new Foo(); // Foo {}

// 2. Object ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ ê°ì²´ ìƒì„±
// Object ìƒì„±ì í•¨ìˆ˜ëŠ” new ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œí•˜ì§€ ì•Šì•„ë„ 
// new ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œí•œ ê²ƒê³¼ ë™ì¼í•˜ê²Œ ë™ì‘í•œë‹¤.
// ì¸ìˆ˜ê°€ ì „ë‹¬ë˜ì§€ ì•Šì•˜ì„ ë•Œ ì¶”ìƒ ì—°ì‚° OrdinaryObjectCreateë¥¼ í˜¸ì¶œí•˜ì—¬ 
// ë¹ˆ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.
let obj = new Object();
console.log(obj); // {}

// 3. ì¸ìˆ˜ê°€ ì „ë‹¬ëœ ê²½ìš°ì—ëŠ” ì¸ìˆ˜ë¥¼ ê°ì²´ë¡œ ë³€í™˜í•œë‹¤.
// Number ê°ì²´ ìƒì„±
obj = new Object(123);
console.log(obj); // Number {123}

// String  ê°ì²´ ìƒì„±
obj = new Object('123');
console.log(obj); // String {"123"}
```

- `Object`ìƒì„±ì í•¨ìˆ˜ í˜¸ì¶œê³¼ ê°ì²´ ë¦¬í„°ëŸ´ì˜ í‰ê°€ëŠ” ì¶”ìƒì—°ì‚°`OrdinaryObjectCreate`ë¥¼ í˜¸ì¶œí•˜ì—¬ **ë¹ˆ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ì **ì—ì„œ ë™ì¼í•˜ë‚˜,Â `new.target`ì˜ í™•ì¸ì´ë‚˜ propertyë¥¼ ì¶”ê°€í•˜ëŠ” ì²˜ë¦¬ ë“± ì„¸ë¶€ë‚´ìš©ì€ ë‹¤ë¦„.
- ë”°ë¼ì„œÂ **ê°ì²´ ë¦¬í„°ëŸ´ì— ì˜í•´ ìƒì„±ëœ ê°ì²´ëŠ”** `Object` **ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•œ ê°ì²´ê°€ ì•„ë‹ˆë‹¤.**

| ë¦¬í„°ëŸ´ í‘œê¸°ë²• | ìƒì„±ì í•¨ìˆ˜ | í”„ë¡œí† íƒ€ì… |
| --- | --- | --- |
| ê°ì²´ ë¦¬í„°ëŸ´ | Object | Object.prototype |
| í•¨ìˆ˜ ë¦¬í„°ëŸ´ | Function | Function.prototype |
| ë°°ì—´ ë¦¬í„°ëŸ´ | Array | Array.prototype |
| ì •ê·œì‹ ë¦¬í„°ëŸ´ | RegExp | RegExp.prototype |

## 19.5 í”„ë¡œí† íƒ€ì…ì˜ ìƒì„± ì‹œì 

- ë¦¬í„°ëŸ´ í‘œê¸°ë²•ì— ì˜í•´ ìƒì„±ëœ ê°ì²´ë„ ìƒì„±ì í•¨ìˆ˜(constructor)ì™€ ì—°ê²°ë¨.

> ê°ì²´ëŠ” ë¦¬í„°ëŸ´ í‘œê¸°ë²• ë˜ëŠ” ìƒì„±ì í•¨ìˆ˜ì— ì˜í•´ ìƒì„±ë˜ë¯€ë¡œ, ê²°êµ­ ëª¨ë“  ê°ì²´ëŠ” ìƒì„±ì í•¨ìˆ˜ì™€ ì—°ê²°ë˜ì–´ ìˆë‹¤.
> 

> **Prototype**ì€ ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±ë˜ëŠ” ì‹œì ì— ê°™ì´ ìƒì„±ëœë‹¤.
> 
- **ìƒì„±ì í•¨ìˆ˜**ëŠ”
    - ì‚¬ìš©ì ì •ì˜ ìƒì„±ì í•¨ìˆ˜ì™€,
    - JavaScriptê°€ ê¸°ë³¸ ì œê³µí•˜ëŠ” ë¹ŒíŠ¸ì¸ ìƒì„±ì í•¨ìˆ˜ë¡œ êµ¬ë¶„ëœë‹¤.

### 19.5.1 ì‚¬ìš©ì ì •ì˜ ìƒì„±ì í•¨ìˆ˜ì™€ Prototype ìƒì„± ì‹œì 

> ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜, ì¦‰ `constructor`ëŠ” í•¨ìˆ˜ ì •ì˜ê°€ í‰ê°€ë˜ì–´ í•¨ìˆ˜ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ì‹œì ì— Prototypeë„ ë”ë¶ˆì–´ ìƒì„±ë¨.
> 

> ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œí•  ìˆ˜ ì—†ëŠ” í•¨ìˆ˜, ì¦‰ **non-constructor**ëŠ” Prototypeì´ ìƒì„±ë˜ì§€ ì•ŠìŒ.
> 
- í•¨ìˆ˜ ì„ ì–¸ë¬¸ì€ ëŸ°íƒ€ì„ ì´ì „ì— JS ì—”ì§„ì— ì˜í•´ ë¨¼ì € ì‹¤í–‰ë¨.
    - ë”°ë¼ì„œ í•¨ìˆ˜ ì„ ì–¸ë¬¸ìœ¼ë¡œ ì •ì˜ëœ Person ìƒì„±ì í•¨ìˆ˜ëŠ” ì–´ë–¤ ì½”ë“œë³´ë‹¤ ë¨¼ì € í‰ê°€ë˜ì–´ í•¨ìˆ˜ ê°ì²´ê°€ ë¨.
    - ì´ ë•Œ **Prototype** ë„ ë”ë¶ˆì–´ ìƒì„±ë¨.
- ì¦‰, **ì‚¬ìš©ì ì •ì˜ ìƒì„±ì í•¨ìˆ˜**ëŠ” ìì‹ ì´ í‰ê°€ë˜ì–´ í•¨ìˆ˜ ê°ì²´ë¡œ ìƒì„±ë˜ëŠ” ì‹œì ì— Prototypeë„ ë”ë¶ˆì–´ ìƒì„±ë˜ë©°, ìƒì„±ëœ Prototypeì€ `Object.prototype` ì„.

```jsx
// í•¨ìˆ˜ ì •ì˜(constructor)ê°€ í‰ê°€ë˜ì–´ í•¨ìˆ˜ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ì‹œì ì— í”„ë¡œí† íƒ€ì…ë„ ë”ë¶ˆì–´ ìƒì„±ëœë‹¤.
console.log(Person.prototype); // {constructor: Æ’}

// ìƒì„±ì í•¨ìˆ˜
function Person(name) {
  this.name = name;
}
```

```jsx
// í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” non-constructorë‹¤.
const Person = name => {
  this.name = name;
};

// non-constructorëŠ” í”„ë¡œí† íƒ€ì…ì´ ìƒì„±ë˜ì§€ ì•ŠëŠ”ë‹¤.
console.log(Person.prototype); // undefined
```

### 19.5.2 ë¹ŒíŠ¸ì¸ ìƒì„±ì í•¨ìˆ˜ì™€ Prototype ìƒì„± ì‹œì 

- Prototype ìƒì„± ì‹œì ì€ ì‚¬ìš©ì ì •ì˜ ìƒì„±ì í•¨ìˆ˜ì™€ ë™ì¼í•¨.
- í•¨ìˆ˜ê°€ ìƒì„±ë˜ëŠ” ì‹œì ì— **Prototype** ì´ ìƒì„±ë˜ê¸° ë•Œë¬¸ì„.

> ëª¨ë“  ë¹ŒíŠ¸ì¸ ìƒì„±ì í•¨ìˆ˜ëŠ” ì „ì—­ ê°ì²´ê°€ ìƒì„±ë˜ëŠ” ì‹œì ì— ìƒì„±ëœë‹¤. ìƒì„±ëœ Prototypeì€ ë¹ŒíŠ¸ì¸ ìƒì„±ì í•¨ìˆ˜ì˜ **prototype property**ì— ë°”ì¸ë”©ë¨.
> 
- ì „ì—­ ê°ì²´: ì½”ë“œ ì‹¤í–‰ ì „ JS ì—”ì§„ì— ì˜í•´ ìƒì„±ë˜ëŠ” íŠ¹ìˆ˜í•œ ê°ì²´
- ê°ì²´ê°€ ìƒì„±ë˜ê¸° ì´ì „ì— ìƒì„±ì í•¨ìˆ˜ì™€ prototype ì€ ì´ë¯¸ ê°ì²´í™”ë˜ì–´ ì¡´ì¬í•¨. ì´í›„ ìƒì„±ì í•¨ìˆ˜ ë˜ëŠ” ë¦¬í„°ëŸ´ í‘œê¸°ë²•ìœ¼ë¡œ ê°ì²´ë¥¼ ìƒì„±í•˜ë©´ prototypeì€ ìƒì„±ëœ ê°ì²´ì˜ [[Prototype]] ë‚´ë¶€ ìŠ¬ë¡¯ì— í• ë‹¹ë¨

## 19.6 ê°ì²´ ìƒì„± ë°©ì‹ê³¼ í”„ë¡œí† íƒ€ì…ì˜ ê²°ì •

- ê°ì²´ ìƒì„± ë°©ì‹
    - ê°ì²´ ë¦¬í„°ëŸ´
    
    ```jsx
    const obj = { x: 1 };
    ```
    
    ```jsx
    const obj = { x: 1 };
    
    // ê°ì²´ ë¦¬í„°ëŸ´ì— ì˜í•´ ìƒì„±ëœ obj ê°ì²´ëŠ” Object.prototypeì„ ìƒì†ë°›ëŠ”ë‹¤.
    console.log(obj.constructor === Object); // true
    console.log(obj.hasOwnProperty('x'));    // true
    ```
    
    - Object ìƒì„±ì í•¨ìˆ˜
    
    ```jsx
    const obj = new Object();
    obj.x = 1;
    ```
    
    ```jsx
    const obj = new Object();
    obj.x = 1;
    
    // Object ìƒì„±ì í•¨ìˆ˜ì— ì˜í•´ ìƒì„±ëœ obj ê°ì²´ëŠ” Object.prototypeì„ ìƒì†ë°›ëŠ”ë‹¤.
    console.log(obj.constructor === Object); // true
    console.log(obj.hasOwnProperty('x'));    // true
    ```
    
    - ìƒì„±ì í•¨ìˆ˜
    
    ```jsx
    function Person(name) {
      this.name = name;
    }
    
    const me = new Person('Lee');
    ```
    
    - Object.create ë©”ì„œë“œ
    - í´ë˜ìŠ¤(ES6)
- ê° ë°©ì‹ë§ˆë‹¤ ì„¸ë¶€ì ì¸ ê°ì²´ ìƒì„± ë°©ì‹ì˜ ì°¨ì´ëŠ” ìˆìœ¼ë‚˜ ì¶”ìƒ ì—°ì‚° `OrdinaryObjectCreate`ì— ì˜í•´ ìƒì„±ëœë‹¤ëŠ” ê³µí†µì ì´ ìˆìŒ.

- **ê°ì²´ ë¦¬í„°ëŸ´** vs **Object ìƒì„±ì í•¨ìˆ˜**ì— ì˜í•œ ê°ì²´ ìƒì„± ë°©ì‹ ì°¨ì´
    - propertyë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ì‹ë§Œ ë‹¤ë¦„.
    - ë‘ ë°©ì‹ ëª¨ë‘ `Object.prototype`ì„ ìƒì†ë°›ëŠ” ê²ƒì´ ê³µí†µì .
    - **ê°ì²´ ë¦¬í„°ëŸ´**ì€ ê°ì²´ ë¦¬í„°ëŸ´ ë‚´ë¶€ì— propertyë¥¼ ì¶”ê°€í•˜ì§€ë§Œ, **Object ìƒì„±ì í•¨ìˆ˜**ëŠ” ìš°ì„  ë¹ˆ ê°ì²´ë¥¼ ìƒì„±í•œ í›„ propertyë¥¼ ì¶”ê°€í•´ì•¼ í•¨.

## 19.7 í”„ë¡œí† íƒ€ì… ì²´ì¸

- **Prototype Chain**
    - JSê°€ **ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì˜ ìƒì†**ì„ êµ¬í˜„í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜
    - JSëŠ” ê°ì²´ì˜ propertyì— ì ‘ê·¼í•˜ë ¤ê³  í•  ë•Œ í•´ë‹¹ ê°ì²´ì— ì ‘ê·¼í•˜ë ¤ëŠ” propertyê°€ ì—†ë‹¤ë©´, [[Prototype]] ë‚´ë¶€ ìŠ¬ë¡¯ì˜ ì°¸ì¡°ë¥¼ ë”°ë¼ ìì‹ ì˜ ë¶€ëª¨ ì—­í• ì„ í•˜ëŠ” prototypeì˜ propertyë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ê²€ìƒ‰í•¨.
    - Prototypeì˜ ì¢…ì : **Object.prototype**
- **Prototype Chain vs Scope Chain**
    - Prototype Chainì€ ìƒì†ê³¼ property ê²€ìƒ‰ì„ ìœ„í•œ ë©”ì»¤ë‹ˆì¦˜
    - Scope Chainì€ ì‹ë³„ì ê²€ìƒ‰ì„ ìœ„í•œ ë©”ì»¤ë‹ˆì¦˜
    - ë‘ ê°€ì§€ê°€ ì„œë¡œ í˜‘ë ¥í•˜ì—¬ ì‹ë³„ìì™€ propertyë¥¼ ê²€ìƒ‰í•˜ëŠ”ë° ì‚¬ìš©ë¨.
- `me.hasOwnProperty('name')` â†’ ë¨¼ì € Scope Chainì—ì„œ **me ì‹ë³„ì**ë¥¼ ê²€ìƒ‰ â†’ ì „ì—­ì—ì„œ ì„ ì–¸ë˜ì—ˆìœ¼ë¯€ë¡œ **ì „ì—­ Scope**ì—ì„œ ê²€ìƒ‰ë˜ë©°, me ì‹ë³„ìë¥¼ ê²€ìƒ‰í•œ ë‹¤ìŒ, **me ê°ì²´ì˜ Prototype Chain**ì—ì„œ `hasOwnProperty` ë©”ì„œë“œë¥¼ ê²€ìƒ‰í•œë‹¤.

```jsx
function Person(name) {
  this.name = name;
}

// í”„ë¡œí† íƒ€ì… ë©”ì„œë“œ
Person.prototype.sayHello = function () {
  console.log(`Hi! My name is ${this.name}`);
};

const me = new Person('Lee');

// hasOwnPropertyëŠ” Object.prototypeì˜ ë©”ì„œë“œë‹¤.
console.log(me.hasOwnProperty('name')); // true
```

- ìœ„ ì½”ë“œì—ì„œ Person ìƒì„±ì í•¨ìˆ˜ì— ì˜í•´ ìƒì„±ëœ me ê°ì²´ëŠ”, Object.prototypeì˜ ë©”ì„œë“œì¸ hasOwnPropertyë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŒ.
- ì´ëŠ” me ê°ì²´ê°€ Person.prototypeë¿ë§Œ ì•„ë‹ˆë¼ **Object.prototype** ë„ ìƒì† ë°›ì•˜ìŒì„ ì˜ë¯¸í•¨. (me ê°ì²´ì˜ prototypeì€ Person.protoypeì„!!)

```jsx
Object.getPrototypeOf(me) === Person.prototype; // -> true
```

- Person.prototypeì˜ í”„ë¡œí† íƒ€ì…ì€ Object.prototypeì´ë‹¤.

```jsx
Object.getPrototypeOf(Person.prototype) === Object.prototype; // -> true
```

- Prototypeì˜ Prototypeì€ ì–¸ì œë‚˜ Object.prototype ì´ë‹¤.

## 19.8 ì˜¤ë²„ë¼ì´ë”©ê³¼ í”„ë¡œí¼í‹° ì„€ë„ì‰

- `Prototype property` : Prototypeì´ ì†Œìœ í•œ property
- `Instance property` : Instanceê°€ ì†Œìœ í•œ property
- Prototype propertyì™€ ê°™ì€ ì´ë¦„ì˜ propertyë¥¼ Instanceì— ì¶”ê°€í•˜ë©´, prototype chainì„ ë”°ë¼ prototype propertyë¥¼ ê²€ìƒ‰ â†’ prototype propertyë¥¼ ë®ì–´ì“°ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ **Instance propertyë¡œ ì¶”ê°€**í•¨.
- **`Overriding`**: ìƒìœ„ classê°€ ê°€ì§€ê³  ìˆëŠ” ë©”ì„œë“œë¥¼ í•˜ìœ„ classê°€ ì¬ì •ì˜í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ë°©ì‹
- `**Property Shadowing**`: ìƒì† ê´€ê³„ì— ì˜í•´ propertyê°€ ê°€ë ¤ì§€ëŠ” í˜„ìƒ
- Property ì‚­ì œ
    - í•˜ìœ„ ê°ì²´ë¥¼ í†µí•´ prototype propertyë¥¼ ë³€ê²½, ì‚­ì œí•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥
    - í•˜ìœ„ ê°ì²´ë¥¼ í†µí•´ prototpyeì— get ì•¡ì„¸ìŠ¤ëŠ” í—ˆìš©, but setì€ ë¶ˆê°€.
    - prototype propertyë¥¼ ë³€ê²½, ì‚­ì œí•˜ë ¤ë©´ **í•˜ìœ„ ê°ì²´ë¥¼ í†µí•´ prototype chain**ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ **prototypeì— ì§ì ‘ ì ‘ê·¼**í•´ì•¼ í•¨.

```jsx
const Person = (function () {
  // ìƒì„±ì í•¨ìˆ˜
  function Person(name) {
    this.name = name;
  }

  // í”„ë¡œí† íƒ€ì… ë©”ì„œë“œ
  Person.prototype.sayHello = function () {
    console.log(`Hi! My name is ${this.name}`);
  };

  // ìƒì„±ì í•¨ìˆ˜ë¥¼ ë°˜í™˜
  return Person;
}());

const me = new Person('Lee');

// ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ
me.sayHello = function () {
  console.log(`Hey! My name is ${this.name}`); // ì˜¤ë²„ë¼ì´ë”©
};

// ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œê°€ í˜¸ì¶œëœë‹¤. 
// í”„ë¡œí† íƒ€ì… ë©”ì„œë“œëŠ” ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œì— ì˜í•´ ê°€ë ¤ì§„ë‹¤.
me.sayHello(); // Hey! My name is Lee
```
## 19.9 í”„ë¡œí† íƒ€ì…ì˜ êµì²´

> í”„ë¡œí† íƒ€ì…ì€ ì„ì˜ì˜ ë‹¤ë¥¸ ê°ì²´, ìƒì„±ì í•¨ìˆ˜ ë˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ì— ì˜í•´ êµì²´í•  ìˆ˜ ìˆë‹¤.
> 

### 19.9.1 ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ Prototypeì˜ êµì²´

- Prototype êµì²´ â†’ **constructor property**ì™€ **ìƒì„±ì í•¨ìˆ˜** ê°„ì˜ ì—°ê²°ì´ íŒŒê´´ë¨.

```jsx
const Person = (function () {
  function Person(name) {
    this.name = name;
  }

  // ìƒì„±ì í•¨ìˆ˜ì˜ prototype í”„ë¡œí¼í‹°ë¥¼ í†µí•´ í”„ë¡œí† íƒ€ì…ì„ êµì²´
  Person.prototype = {
    // constructor í”„ë¡œí¼í‹°ì™€ ìƒì„±ì í•¨ìˆ˜ ê°„ì˜ ì—°ê²°ì„ ì„¤ì •
    constructor: Person,
    sayHello() {
      console.log(`Hi! My name is ${this.name}`);
    }
  };

  return Person;
}());

const me = new Person('Lee');

// constructor í”„ë¡œí¼í‹°ê°€ ìƒì„±ì í•¨ìˆ˜ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
console.log(me.constructor === Person); // true
console.log(me.constructor === Object); // false
```

- me ê°ì²´ì˜ ìƒì„±ì í•¨ìˆ˜ë¥¼ ê²€ìƒ‰í•˜ë©´ Personì´ ì•„ë‹Œ Objectê°€ ë‚˜ì˜´!

### 19.9.2 ì¸ìŠ¤í„´ìŠ¤ì— ì˜í•œ í”„ë¡œí† íƒ€ì…ì˜ êµì²´

- ì¸ìŠ¤í„´ìŠ¤ì˜ `__proto__` ì ‘ê·¼ì propertyë¥¼ í†µí•´ í”„ë¡œí† íƒ€ì… êµì²´ê°€ ê°€ëŠ¥í•¨.
- ì ‘ê·¼ì propertyë¥¼ í†µí•´ í”„ë¡œí† íƒ€ì…ì„ êµì²´ = ì´ë¯¸ ìƒì„±ëœ ê°ì²´ì˜ prototypeì„ êµì²´

```jsx
function Person(name) {
  this.name = name;
}

const me = new Person('Lee');

// í”„ë¡œí† íƒ€ì…ìœ¼ë¡œ êµì²´í•  ê°ì²´
const parent = {
  sayHello() {
    console.log(`Hi! My name is ${this.name}`);
  }
};

// â‘  me ê°ì²´ì˜ í”„ë¡œí† íƒ€ì…ì„ parent ê°ì²´ë¡œ êµì²´í•œë‹¤.
Object.setPrototypeOf(me, parent);
// ìœ„ ì½”ë“œëŠ” ì•„ë˜ì˜ ì½”ë“œì™€ ë™ì¼í•˜ê²Œ ë™ì‘í•œë‹¤.
// me.__proto__ = parent;

me.sayHello(); // Hi! My name is Lee
```

- ì•„ë˜ ì½”ë“œì™€ ê°™ì´ Prototypeì˜ constructor propertyë¡œ me ê°ì²´ì˜ ìƒì„±ì í•¨ìˆ˜ë¥¼ ê²€ìƒ‰í•˜ë©´, Personì´ ì•„ë‹Œ **Object**ê°€ ë‚˜ì˜´.

```jsx
// í”„ë¡œí† íƒ€ì…ì„ êµì²´í•˜ë©´ constructor í”„ë¡œí¼í‹°ì™€ ìƒì„±ì í•¨ìˆ˜ ê°„ì˜ ì—°ê²°ì´ íŒŒê´´ëœë‹¤.
console.log(me.constructor === Person); // false
// í”„ë¡œí† íƒ€ì… ì²´ì¸ì„ ë”°ë¼ Object.prototypeì˜ constructor í”„ë¡œí¼í‹°ê°€ ê²€ìƒ‰ëœë‹¤.
console.log(me.constructor === Object); // true
```

âœ… Prototype êµì²´ë¥¼ í†µí•´ **ê°ì²´ ê°„ì˜ ìƒì† ê´€ê³„**ë¥¼ ë™ì ìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì€ ë²ˆê±°ë¡œì›€ â‡’ Prototypeì€ ì§ì ‘ êµì²´í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ìŒ! (ì§ì ‘ ìƒì†ì´ ë” í¸ë¦¬í•˜ê³  ì•ˆì „í•¨.)

## 19.10 **instanceof ì—°ì‚°ì**

- ìš°ë³€ ê°ì²´ `instance of` ì¢Œë³€ ê°ì²´
- ìš°ë³€ì˜ ìƒì„±ì í•¨ìˆ˜ì˜ prototypeì— ë°”ì¸ë”©ëœ ê°ì²´ê°€ ì¢Œë³€ì˜ ê°ì²´ì˜ **í”„ë¡œí† íƒ€ì… ì²´ì¸ ìƒì— ì¡´ì¬**í•˜ë©´ true, ì•„ë‹ˆë©´ false ë°˜í™˜

```jsx
// ìƒì„±ì í•¨ìˆ˜
function Person(name) {
  this.name = name;
}

const me = new Person('Lee');

// Person.prototypeì´ me ê°ì²´ì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ ìƒì— ì¡´ì¬í•˜ë¯€ë¡œ trueë¡œ í‰ê°€ëœë‹¤.
console.log(me instanceof Person); // true

// Object.prototypeì´ me ê°ì²´ì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ ìƒì— ì¡´ì¬í•˜ë¯€ë¡œ trueë¡œ í‰ê°€ëœë‹¤.
console.log(me instanceof Object); // true
```

- `instanceof` ì—°ì‚°ìëŠ” ìƒì„±ì í•¨ìˆ˜ì˜ prototypeì— ë°”ì¸ë”©ëœ ê°ì²´ê°€ prototype chain ìƒì— ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•¨.

```jsx
// ìƒì„±ì í•¨ìˆ˜
function Person(name) {
  this.name = name;
}

const me = new Person('Lee');

// í”„ë¡œí† íƒ€ì…ìœ¼ë¡œ êµì²´í•  ê°ì²´
const parent = {};

// í”„ë¡œí† íƒ€ì…ì˜ êµì²´
Object.setPrototypeOf(me, parent);

// Person ìƒì„±ì í•¨ìˆ˜ì™€ parent ê°ì²´ëŠ” ì—°ê²°ë˜ì–´ ìˆì§€ ì•Šë‹¤.
console.log(Person.prototype === parent); // false
console.log(parent.constructor === Person); // false

// Person.prototypeì´ me ê°ì²´ì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ ìƒì— ì¡´ì¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— falseë¡œ í‰ê°€ëœë‹¤.
console.log(me instanceof Person); // false

// Object.prototypeì´ me ê°ì²´ì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ ìƒì— ì¡´ì¬í•˜ë¯€ë¡œ trueë¡œ í‰ê°€ëœë‹¤.
console.log(me instanceof Object); // true
```

```jsx
// ìƒì„±ì í•¨ìˆ˜
function Person(name) {
  this.name = name;
}

const me = new Person('Lee');

// í”„ë¡œí† íƒ€ì…ìœ¼ë¡œ êµì²´í•  ê°ì²´
const parent = {};

// í”„ë¡œí† íƒ€ì…ì˜ êµì²´
Object.setPrototypeOf(me, parent);

// Person ìƒì„±ì í•¨ìˆ˜ì™€ parent ê°ì²´ëŠ” ì—°ê²°ë˜ì–´ ìˆì§€ ì•Šë‹¤.
console.log(Person.prototype === parent); // false
console.log(parent.constructor === Person); // false

// parent ê°ì²´ë¥¼ Person ìƒì„±ì í•¨ìˆ˜ì˜ prototype í”„ë¡œí¼í‹°ì— ë°”ì¸ë”©í•œë‹¤.
Person.prototype = parent;

// Person.prototypeì´ me ê°ì²´ì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ ìƒì— ì¡´ì¬í•˜ë¯€ë¡œ trueë¡œ í‰ê°€ëœë‹¤.
console.log(me instanceof Person); // true

// Object.prototypeì´ me ê°ì²´ì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ ìƒì— ì¡´ì¬í•˜ë¯€ë¡œ trueë¡œ í‰ê°€ëœë‹¤.
console.log(me instanceof Object); // true
```

- instanceof ì—°ì‚°ìë¥¼ í•¨ìˆ˜ë¡œ í‘œí˜„í•˜ë©´ ì•„ë˜ì™€ ê°™ìŒ.

```jsx
function isInstanceof(instance, constructor) {
  // í”„ë¡œí† íƒ€ì… ì·¨ë“
  const prototype = Object.getPrototypeOf(instance);

  // ì¬ê·€ íƒˆì¶œ ì¡°ê±´
  // prototypeì´ nullì´ë©´ í”„ë¡œí† íƒ€ì… ì²´ì¸ì˜ ì¢…ì ì— ë‹¤ë‹¤ë¥¸ ê²ƒì´ë‹¤.
  if (prototype === null) return false;

  // í”„ë¡œí† íƒ€ì…ì´ ìƒì„±ì í•¨ìˆ˜ì˜ prototype í”„ë¡œí¼í‹°ì— ë°”ì¸ë”©ëœ ê°ì²´ë¼ë©´ trueë¥¼ ë°˜í™˜í•œë‹¤.
  // ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ ì¬ê·€ í˜¸ì¶œë¡œ í”„ë¡œí† íƒ€ì… ì²´ì¸ ìƒì˜ ìƒìœ„ í”„ë¡œí† íƒ€ì…ìœ¼ë¡œ ì´ë™í•˜ì—¬ í™•ì¸í•œë‹¤.
  return prototype === constructor.prototype || isInstanceof(prototype, constructor);
}

console.log(isInstanceof(me, Person)); // true
console.log(isInstanceof(me, Object)); // true
console.log(isInstanceof(me, Array));  // false
```

## 19.11 ì§ì ‘ ìƒì†

### 19.11.1 Object.createì— ì˜í•œ ì§ì ‘ ìƒì†

> `Object.create` ë©”ì„œë“œ: ëª…ì‹œì ìœ¼ë¡œ prototype ì„ ì§€ì •í•˜ì—¬ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±
> 
- ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜: ìƒì„±í•  ê°ì²´ì˜ prototype ìœ¼ë¡œ ì§€ì •í•  ê°ì²´
- ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜: ìƒì„±í•  ê°ì²´ì˜ **property key**ì™€ **property descriptor** ê°ì²´ë¡œ ì´ë¤„ì§„ ê°ì²´

```jsx
// í”„ë¡œí† íƒ€ì…ì´ nullì¸ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤. ìƒì„±ëœ ê°ì²´ëŠ” í”„ë¡œí† íƒ€ì… ì²´ì¸ì˜ ì¢…ì ì— ìœ„ì¹˜í•œë‹¤.
// obj â†’ null
let obj = Object.create(null);
console.log(Object.getPrototypeOf(obj) === null); // true
// Object.prototypeì„ ìƒì†ë°›ì§€ ëª»í•œë‹¤.
console.log(obj.toString()); // TypeError: obj.toString is not a function

// obj â†’ Object.prototype â†’ null
// obj = {};ì™€ ë™ì¼í•˜ë‹¤.
obj = Object.create(Object.prototype);
console.log(Object.getPrototypeOf(obj) === Object.prototype); // true

// obj â†’ Object.prototype â†’ null
// obj = { x: 1 };ì™€ ë™ì¼í•˜ë‹¤.
obj = Object.create(Object.prototype, {
  x: { value: 1, writable: true, enumerable: true, configurable: true }
});
// ìœ„ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ë™ì¼í•˜ë‹¤.
// obj = Object.create(Object.prototype);
// obj.x = 1;
console.log(obj.x); // 1
console.log(Object.getPrototypeOf(obj) === Object.prototype); // true

const myProto = { x: 10 };
// ì„ì˜ì˜ ê°ì²´ë¥¼ ì§ì ‘ ìƒì†ë°›ëŠ”ë‹¤.
// obj â†’ myProto â†’ Object.prototype â†’ null
obj = Object.create(myProto);
console.log(obj.x); // 10
console.log(Object.getPrototypeOf(obj) === myProto); // true

// ìƒì„±ì í•¨ìˆ˜
function Person(name) {
  this.name = name;
}

// obj â†’ Person.prototype â†’ Object.prototype â†’ null
// obj = new Person('Lee')ì™€ ë™ì¼í•˜ë‹¤.
obj = Object.create(Person.prototype);
obj.name = 'Lee';
console.log(obj.name); // Lee
console.log(Object.getPrototypeOf(obj) === Person.prototype); // true
```

- Object.create ë©”ì„œë“œì˜ ì¥ì 
    - new ì—°ì‚°ì ì—†ì´ë„ ê°ì²´ ìƒì„± ê°€ëŠ¥
    - Prototype ì§€ì •í•˜ë©´ì„œ ê°ì²´ ìƒì„± ê°€ëŠ¥
    - ê°ì²´ ë¦¬í„°ëŸ´ì— ì˜í•´ ìƒì„±ëœ ê°ì²´ë„ ìƒì† ê°€ëŠ¥

### 19.11.2 ê°ì²´ ë¦¬í„°ëŸ´ ë‚´ë¶€ì—ì„œ `__proto__` ì— ì˜í•œ ì§ì ‘ ìƒì†

```jsx
const myProto = { x: 10 };

// ê°ì²´ ë¦¬í„°ëŸ´ì— ì˜í•´ ê°ì²´ë¥¼ ìƒì„±í•˜ë©´ì„œ í”„ë¡œí† íƒ€ì…ì„ ì§€ì •í•˜ì—¬ ì§ì ‘ ìƒì†ë°›ì„ ìˆ˜ ìˆë‹¤.
const obj = {
  y: 20,
  // ê°ì²´ë¥¼ ì§ì ‘ ìƒì†ë°›ëŠ”ë‹¤.
  // obj â†’ myProto â†’ Object.prototype â†’ null
  __proto__: myProto
};
/* ìœ„ ì½”ë“œëŠ” ì•„ë˜ì™€ ë™ì¼í•˜ë‹¤.
const obj = Object.create(myProto, {
  y: { value: 20, writable: true, enumerable: true, configurable: true }
});
*/

console.log(obj.x, obj.y); // 10 20
console.log(Object.getPrototypeOf(obj) === myProto); // true
```

## 19.12 ì •ì  í”„ë¡œí¼í‹°/ë©”ì„œë“œ

> **Static property/method**: ìƒì„±ì í•¨ìˆ˜ë¡œ instanceë¥¼ ìƒì„±í•˜ì§€ ì•Šì•„ë„ ì°¸ì¡°/í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” property/method
> 

```jsx
// ìƒì„±ì í•¨ìˆ˜
function Person(name) {
  this.name = name;
}

// í”„ë¡œí† íƒ€ì… ë©”ì„œë“œ
Person.prototype.sayHello = function () {
  console.log(`Hi! My name is ${this.name}`);
};

// ì •ì  í”„ë¡œí¼í‹°
Person.staticProp = 'static prop';

// ì •ì  ë©”ì„œë“œ
Person.staticMethod = function () {
  console.log('staticMethod');
};

const me = new Person('Lee');

// ìƒì„±ì í•¨ìˆ˜ì— ì¶”ê°€í•œ ì •ì  í”„ë¡œí¼í‹°/ë©”ì„œë“œëŠ” ìƒì„±ì í•¨ìˆ˜ë¡œ ì°¸ì¡°/í˜¸ì¶œí•œë‹¤.
Person.staticMethod(); // staticMethod

// ì •ì  í”„ë¡œí¼í‹°/ë©”ì„œë“œëŠ” ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•œ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì°¸ì¡°/í˜¸ì¶œí•  ìˆ˜ ì—†ë‹¤.
// ì¸ìŠ¤í„´ìŠ¤ë¡œ ì°¸ì¡°/í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” í”„ë¡œí¼í‹°/ë©”ì„œë“œëŠ” í”„ë¡œí† íƒ€ì… ì²´ì¸ ìƒì— ì¡´ì¬í•´ì•¼ í•œë‹¤.
me.staticMethod(); // TypeError: me.staticMethod is not a function
```

```jsx
// Object.createëŠ” ì •ì  ë©”ì„œë“œë‹¤.
const obj = Object.create({ name: 'Lee' });

// Object.prototype.hasOwnPropertyëŠ” í”„ë¡œí† íƒ€ì… ë©”ì„œë“œë‹¤.
obj.hasOwnProperty('name'); // -> false
```

```jsx
function Foo() {}

// í”„ë¡œí† íƒ€ì… ë©”ì„œë“œ
// thisë¥¼ ì°¸ì¡°í•˜ì§€ ì•ŠëŠ” í”„ë¡œí† íƒ€ì… ë©”ì†Œë“œëŠ” ì •ì  ë©”ì„œë“œë¡œ ë³€ê²½í•´ë„ ë™ì¼í•œ íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.
Foo.prototype.x = function () {
  console.log('x');
};

const foo = new Foo();
// í”„ë¡œí† íƒ€ì… ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë ¤ë©´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤.
foo.x(); // x

// ì •ì  ë©”ì„œë“œ
Foo.x = function () {
  console.log('x');
};

// ì •ì  ë©”ì„œë“œëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì§€ ì•Šì•„ë„ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.
Foo.x(); // x
```

## 19.13 í”„ë¡œí¼í‹° ì¡´ì¬ í™•ì¸

### 19.13.1 in ì—°ì‚°ì

- ê°ì²´ ë‚´ì— **íŠ¹ì • property**ì˜ ì¡´ì¬ ì—¬ë¶€ í™•ì¸

```jsx
const person = {
  name: 'Lee',
  address: 'Seoul'
};

// person ê°ì²´ì— name í”„ë¡œí¼í‹°ê°€ ì¡´ì¬í•œë‹¤.
console.log('name' in person);    // true
// person ê°ì²´ì— address í”„ë¡œí¼í‹°ê°€ ì¡´ì¬í•œë‹¤.
console.log('address' in person); // true
// person ê°ì²´ì— age í”„ë¡œí¼í‹°ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤.
console.log('age' in person);     // false
```

- í™•ì¸í•  ê°ì²´ì˜ í”„ë¡œí¼í‹° ë¿ë§Œ ì•„ë‹ˆë¼ í™•ì¸í•  ê°ì²´ê°€ **ìƒì†ë°›ì€ ëª¨ë“  prototypeì˜ property**ë¥¼ ì „ë¶€ í™•ì¸í•œë‹¤.

```jsx
console.log('toString' in person); // true
```

```jsx
const person = { name: 'Lee' };

console.log(Reflect.has(person, 'name'));     // true
console.log(Reflect.has(person, 'toString')); // true
```

### 19.13.2 Object.prototype.hasOwnProperty ë©”ì„œë“œ

- ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ property keyê°€ **ê°ì²´ ê³ ìœ ì˜ property key**ì¸ ê²½ìš°ì—ë§Œ trueë¥¼ ë°˜í™˜.
- ìƒì†ë°›ì€ prototypeì˜ **property key**ì¸ ê²½ìš° falseë¥¼ ë°˜í™˜.

```jsx
console.log(person.hasOwnProperty('name')); // true
console.log(person.hasOwnProperty('age'));  // false
```

## 19.14 í”„ë¡œí¼í‹° ì—´ê±°

### 19.14.1 for â€¦ in ë¬¸

- ê°ì²´ì˜ **prototype chain** ìƒì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  prototypeì˜ property ì¤‘ì—ì„œ **property attribute** [[Enumerable]]ì˜ ê°’ì´ trueì¸ propertyë¥¼ ìˆœíšŒí•˜ë©° ì—´ê±°.

```jsx
const person = {
  name: 'Lee',
  address: 'Seoul',
  __proto__: { age: 20 }
};

for (const key in person) {
  console.log(key + ': ' + person[key]);
}
// name: Lee
// address: Seoul
// age: 20
```

```jsx
const sym = Symbol();
const obj = {
  a: 1,
  [sym]: 10
};

for (const key in obj) {
  console.log(key + ': ' + obj[key]);
}
// a: 1
```

```jsx
const person = {
  name: 'Lee',
  address: 'Seoul',
  __proto__: { age: 20 }
};

for (const key in person) {
  // ê°ì²´ ìì‹ ì˜ í”„ë¡œí¼í‹°ì¸ì§€ í™•ì¸í•œë‹¤.
  if (!person.hasOwnProperty(key)) continue;
  console.log(key + ': ' + person[key]);
}
// name: Lee
// address: Seoul
```

- ë°°ì—´ì—ì„œëŠ” ì¼ë°˜ì ì¸ forë¬¸, for â€¦ of ë¬¸ ë˜ëŠ” `Array.prototype.forEach` ë©”ì„œë“œ ì‚¬ìš©ì„ ê¶Œì¥.

```jsx
const arr = [1, 2, 3];
arr.x = 10; // ë°°ì—´ë„ ê°ì²´ì´ë¯€ë¡œ í”„ë¡œí¼í‹°ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.

for (const i in arr) {
  // í”„ë¡œí¼í‹° xë„ ì¶œë ¥ëœë‹¤.
  console.log(arr[i]); // 1 2 3 10
};

// arr.lengthëŠ” 3ì´ë‹¤.
for (let i = 0; i < arr.length; i++) {
  console.log(arr[i]); // 1 2 3
}

// forEach ë©”ì„œë“œëŠ” ìš”ì†Œê°€ ì•„ë‹Œ í”„ë¡œí¼í‹°ëŠ” ì œì™¸í•œë‹¤.
arr.forEach(v => console.log(v)); // 1 2 3

// for...ofëŠ” ë³€ìˆ˜ ì„ ì–¸ë¬¸ì—ì„œ ì„ ì–¸í•œ ë³€ìˆ˜ì— í‚¤ê°€ ì•„ë‹Œ ê°’ì„ í• ë‹¹í•œë‹¤.
for (const value of arr) {
  console.log(value); // 1 2 3
};
```

### 19.4.2 Object.keys/values/entries ë©”ì„œë“œ

- `Object.keys` : ì—´ê±° ê°€ëŠ¥í•œ property keyë¥¼ ë°°ì—´ë¡œ ë°˜í™˜í•¨.

```jsx
const person = {
  name: 'Lee',
  address: 'Seoul',
  __proto__: { age: 20 }
};

console.log(Object.keys(person)); // ["name", "address"]
```

- `Object.values` : ì—´ê±° ê°€ëŠ¥í•œ property valueë¥¼ ë°°ì—´ë¡œ ë°˜í™˜í•¨.

```jsx
console.log(Object.values(person)); // ["Lee", "Seoul"]
```

- `Object.entries` : ì—´ê±° ê°€ëŠ¥í•œ property key, value ìŒì„ ê°ê°€ì˜ ë°°ì—´ë¡œ ëª¨ì€ ë°°ì—´ë¡œ ë°˜í™˜í•¨.

```jsx
console.log(Object.entries(person)); // [["name", "Lee"], ["address", "Seoul"]]

Object.entries(person).forEach(([key, value]) => console.log(key, value));
/*
name Lee
address Seoul
*/
```
---

### ëŠë‚€ ì 

- í”„ë¡œí† íƒ€ì…ì˜ ê°œë…ë„ ì•„ì§ ìµìˆ™í•´ì§€ì§€ ì•Šì•˜ëŠ”ë°, í”„ë¡œí† íƒ€ì…ì˜ í”„ë¡œí¼í‹°ë¶€í„° ì‹œì‘í•´ì„œ í”„ë¡œí† íƒ€ì… ìƒì„± ì‹œì , ì˜¤ë²„ë¼ì´ë”©, ê·¸ë¦¬ê³  í”„ë¡œí¼í‹° ì„€ë„ì‰ê¹Œì§€.. ì •ë§ ë§ì€ ê°œë…ê³¼ ë©”ì»¤ë‹ˆì¦˜ì„ í•œêº¼ë²ˆì— ì´í•´í•˜ë ¤ê³  í•˜ë‹ˆ ì‰½ì§€ ì•Šì•˜ë‹¤.
- ì´ ëª¨ë“  ê²ƒì„ ì´í•´í•˜ê¸° ìœ„í•´ì„œëŠ” ì—¬ëŸ¬ë²ˆ ì½ì–´ë´ì•¼ í•  ë“¯. (ì´ ì±…ì€ ëª‡íšŒë…ì€ í•´ì•¼ ê°ì´ ì˜¨ë‹¤ê³  í•œë‹¤..ğŸ˜‚)
- ì´ë²ˆ ì±•í„°(19.9-19.14)ëŠ” ë¹„êµì  ìµìˆ™í•œ javascript ë¬¸ë²•ë“¤ì¸ in ì—°ì‚°, forë¬¸ ë“±ì´ ë“±ì¥í•˜ì—¬ ì´í•´í•˜ê¸° ì‰¬ìš´ í¸ì´ì—ˆë‹¤. ë˜ ì§€ë‚œ ì‹œê°„ì— Object.createëŠ” ì–´ë–¤ ë©”ì„œë“œì¸ì§€ ê¶ê¸ˆí–ˆëŠ”ë°, ì§ì ‘ ìƒì†ì˜ ê¸°ëŠ¥ì„ í•˜ëŠ” ë©”ì„œë“œì„ì„ ì•Œê²Œ ë˜ì—ˆë‹¤.
- ê·¸ë™ì•ˆ forë¬¸, for..of, for..in ì´ 3ê°€ì§€ for ë°˜ë³µë¬¸ì´ ì–´ë–¤ ì°¨ì´ê°€ ìˆëŠ”ì§€ ì •í™•íˆ ì•Œì§€ ëª»í•˜ê³  í˜¼ìš©í•´ì„œ ì¼ì—ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì–´ë–¤ caseì— ê° ë°©ì‹ì´ í•„ìš”í•œì§€ ê¹¨ë‹¬ì•˜ë‹¤. (íŠ¹íˆ ë°°ì—´ì„ ìˆœíšŒí•  ë•Œ ë˜ë„ë¡ì´ë©´ for..of ë‚˜ forEachë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì„ ë“¯í•¨.)